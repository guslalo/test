<ng-container *ngIf="appointmentDetail">
  <div class="row mb-3">
    <div class="col-6 col-md-6">
      <h2>{{ 'clinicalFile.title' | transloco }}</h2>

      <p>
        {{ 'common.teleconsult.label' | transloco }}
        {{ appointmentDetail.dateDetails.date | date: 'dd/MM/yyyy':'+0000' }}.
      </p>
    </div>

    <div class="col">
      <!-- <button *ngxPermissionsOnly="['Update:Appointment']" #newAppointment id="newAppointment" type="button" class="btn btn-primary rounded-pill float-right"
        ng-reflect-tour-anchor="agendar" data-toggle="modal" data-target="#modalReAgendamiento">
        {{ 'clinicalFile.reschedule.label' | transloco }}
        <img src="assets/icons/icon-plus-circle.svg" alt="img" />
      </button> -->
  
      <!-- <button type="button" class="btn btn-primary rounded-pill float-right d-none" ng-reflect-tour-anchor="agendar"
        data-toggle="modal" data-target="#disponibilidad">
        {{ 'clinicalFile.newService.label' | transloco }}
        <svg width="1.5em" height="1.5em" viewBox="0 0 16 16" class="bi bi-plus-circle" fill="currentColor"
          xmlns="http://www.w3.org/2000/svg">
          <path fill-rule="evenodd"
            d="M8 3.5a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5H4a.5.5 0 0 1 0-1h3.5V4a.5.5 0 0 1 .5-.5z" />
          <path fill-rule="evenodd" d="M7.5 8a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 0 1H8.5V12a.5.5 0 0 1-1 0V8z" />
          <path fill-rule="evenodd" d="M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z" />
        </svg>
      </button> -->
    </div>


    <!--appointmentDetail.administrativeDetails.status === 'appointed' ||
      appointmentDetail.administrativeDetails.status === 'rescheduled' ||-->
    <div class="col-6 col-md-6">
      <a href="javascript:history.back()" class="back float-right align-top">
        <svg width="2em" height="2em" viewBox="0 0 16 16" class="bi bi-arrow-left-circle" fill="currentColor"
          xmlns="http://www.w3.org/2000/svg">
          <path fill-rule="evenodd" d="M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z" />
          <path fill-rule="evenodd"
            d="M8.354 11.354a.5.5 0 0 0 0-.708L5.707 8l2.647-2.646a.5.5 0 1 0-.708-.708l-3 3a.5.5 0 0 0 0 .708l3 3a.5.5 0 0 0 .708 0z" />
          <path fill-rule="evenodd" d="M11.5 8a.5.5 0 0 0-.5-.5H6a.5.5 0 0 0 0 1h5a.5.5 0 0 0 .5-.5z" />
        </svg>
      </a>
    </div>
  </div>

  <div class="row">
    <div class="col-12">
      <div class="row mb-4 vistaFixed">
        <div class="col-md-5">
          <div class="card bg-white shadow-sm rounded overflow-hidden">
            <div class="row">
              <div class="videoCall">
                <ng-container *ngIf="
                    appointmentDetail.administrativeDetails.status === 'active' ||
                    appointmentDetail.administrativeDetails.status === 'pending'
                  ">
                  <div class="boxText">
                    <p class="w-100 mt-5 title">
                      <ng-container *ngIf="appointmentDetail.administrativeDetails.status === 'pending'; else text">
                        {{ 'clinicalFile.callEnded.label' | transloco }}
                      </ng-container>
                      <ng-template #text>
                        {{ 'clinicalFile.waitingStartCall.label' | transloco }}
                      </ng-template>
                    </p>
                    <svg width="2em" height="2em" viewBox="0 0 16 16" class="bi bi-broadcast" fill="currentColor"
                      xmlns="http://www.w3.org/2000/svg">
                      <path fill-rule="evenodd"
                        d="M3.05 3.05a7 7 0 0 0 0 9.9.5.5 0 0 1-.707.707 8 8 0 0 1 0-11.314.5.5 0 0 1 .707.707zm2.122 2.122a4 4 0 0 0 0 5.656.5.5 0 0 1-.708.708 5 5 0 0 1 0-7.072.5.5 0 0 1 .708.708zm5.656-.708a.5.5 0 0 1 .708 0 5 5 0 0 1 0 7.072.5.5 0 1 1-.708-.708 4 4 0 0 0 0-5.656.5.5 0 0 1 0-.708zm2.122-2.12a.5.5 0 0 1 .707 0 8 8 0 0 1 0 11.313.5.5 0 0 1-.707-.707 7 7 0 0 0 0-9.9.5.5 0 0 1 0-.707z" />
                      <path d="M10 8a2 2 0 1 1-4 0 2 2 0 0 1 4 0z" />
                    </svg>
                  </div>
                  <div class="text-center boxThumb rounded">
                    <ng-container *ngIf="appointmentDetail.patientDetails.userDetails.photo; else noPhoto">
                      <img src="{{ photoUrlBase }}{{ appointmentDetail.patientDetails.userDetails.photo }}" />
                    </ng-container>
                    <ng-template #noPhoto>
                      <img src="assets/img/profile.png" />
                    </ng-template>
                    <!---->
                  </div>
                </ng-container>
                <div class="text-center w-100" *ngIf="videoCall === true">
                  <div id="meet" class="meetPatient2"></div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="col-md-7">
          <div class="card bg-light shadow-sm">
            <div class="row">
              <div class="col-6 border-right">
                <div class="row">
                  <div class="col-md-4 col-lg-5 text-center mt-5">
                    <div class="img boxImg2 rounded-circle d-inline-block">
                      <ng-container *ngIf="appointmentDetail.patientDetails.userDetails.photo; else noPhoto">
                        <img src="{{ photoUrlBase }}{{ appointmentDetail.patientDetails.userDetails.photo }}" />
                      </ng-container>
                      <ng-template #noPhoto>
                        <img src="assets/img/profile.png" />
                      </ng-template>
                    </div>
                  </div>
                  <div class="col mt-5">
                    <p class="p-0 font-weight-bold text-left">
                      {{ appointmentDetail.patientDetails.userDetails.personalData.name | uppercase }}
                      {{ appointmentDetail.patientDetails.userDetails.personalData.lastName | uppercase }}
                    </p>
                    <!--font-weight-bold-->
                    <ul class="simple-list">
                      <li>
                        <b>{{ 'common.forms.user.identification.grender.label' | transloco }}:</b>
                        <ng-container
                          *ngIf=" appointmentDetail.patientDetails.userDetails.personalData.gender=== 'male'; else female">
                          {{'clinicalFile.male.label' | transloco}}
                        </ng-container>
                        <ng-template #female>
                          {{'clinicalFile.female.label' | transloco}}
                        </ng-template>

                      </li>
                      <li>
                        <b>{{ 'table.age.label' | transloco }}:</b>
                        {{ appointmentDetail.patientDetails.userDetails.personalData.age }}
                      </li>
                      <li>
                        <b>
                          <!--
                          {{ 'profile.personal.tabIdentification.birthData.nacionality.label' | transloco }}:-->
                          {{ 'account.identificationDocument.label' | transloco }}:
                        </b>
                        <ng-container *ngIf="appointmentDetail.patientDetails.userDetails.identificationData">
                          {{appointmentDetail.patientDetails.userDetails.identificationData.passport}}
                          {{appointmentDetail.patientDetails.userDetails.identificationData.cbo}}
                          {{appointmentDetail.patientDetails.userDetails.identificationData.cboDesc}}
                          {{appointmentDetail.patientDetails.userDetails.identificationData.ctps}}
                          {{appointmentDetail.patientDetails.userDetails.identificationData.run}}
                          {{appointmentDetail.patientDetails.userDetails.identificationData.rut}}
                        </ng-container>
                      </li>
                      <li>
                        <b>{{ 'common.forms.user.identification.phone.label' | transloco }}:</b>
                        {{ appointmentDetail.patientDetails.userDetails.personalData.phoneNumber }}
                      </li>
                    </ul>
                  </div>
                </div>
              </div>
              <div class="col-6">
                <div class="card-body text-center mt-3">
                  <h5 class="card-title mb-1">{{ 'clinicalFile.status.label' | transloco }}</h5>
                  <button *ngIf="appointmentDetail.administrativeDetails.status === 'active' || appointmentDetail.administrativeDetails.status === 'created'"
                    class="btn btn-outline-primary btn-sm rounded-pill d-inline-block mr-2"
                    (click)="runAppointment(appointmentDetail._id, 'run')">
                    {{ 'clinicalFile.start.label' | transloco }}
                    <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-camera-video" fill="currentColor"
                      xmlns="http://www.w3.org/2000/svg">
                      <path fill-rule="evenodd"
                        d="M0 5a2 2 0 0 1 2-2h7.5a2 2 0 0 1 1.983 1.738l3.11-1.382A1 1 0 0 1 16 4.269v7.462a1 1 0 0 1-1.406.913l-3.111-1.382A2 2 0 0 1 9.5 13H2a2 2 0 0 1-2-2V5zm11.5 5.175l3.5 1.556V4.269l-3.5 1.556v4.35zM2 4a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h7.5a1 1 0 0 0 1-1V5a1 1 0 0 0-1-1H2z" />
                    </svg>
                  </button>
                  <button *ngIf="appointmentDetail.administrativeDetails.status === 'running'"
                    class="btn btn-outline-primary btn-sm rounded-pill d-inline-block mr-2"
                    (click)="endTeleconsultation(appointmentDetail._id, 'end-teleconsultation')">
                    {{ 'clinicalFile.endCall.label' | transloco }}
                  </button>
                  <button *ngIf="appointmentDetail.administrativeDetails.status === 'pending'"
                    [disabled]="(arrayDiagnostic && arrayDiagnostic.length === 0) || (destiniesSelected.length === 0)"
                    class="btn btn-outline-primary btn-sm rounded-pill d-inline-block mr-2"
                    (click)="finish(appointmentDetail._id, 'finish')">
                    {{ 'clinicalFile.endService.label' | transloco }}
                  </button>

                  <button type="button" class="btn btn-primary rounded-pill btn-sm mt-1">
                    {{
                      (appointmentDetail.administrativeDetails.status === 'reserved'
                        ? 'clinicalFile.reserved.label'
                        : appointmentDetail.administrativeDetails.status === 'appointed'
                        ? 'clinicalFile.scheduled.label'
                        : appointmentDetail.administrativeDetails.status === 'rescheduled'
                        ? 'clinicalFile.reScheduled.label'
                        : appointmentDetail.administrativeDetails.status === 'created'
                        ? 'clinicalFile.created.label'
                        : appointmentDetail.administrativeDetails.status === 'active'
                        ? 'clinicalFile.active.label'
                        : appointmentDetail.administrativeDetails.status === 'waitingInRoom'
                        ? 'clinicalFile.inWaitingRoom.label'
                        : appointmentDetail.administrativeDetails.status === 'waitingInList'
                        ? 'clinicalFile.inWaitingList.label'
                        : appointmentDetail.administrativeDetails.status === 'running'
                        ? 'common.status.inProgress.label'
                        : appointmentDetail.administrativeDetails.status === 'pending'
                        ? 'clinicalFile.pending.label'
                        : appointmentDetail.administrativeDetails.status === 'finished'
                        ? 'clinicalFile.ended.label'
                        : appointmentDetail.administrativeDetails.status === 'canceled'
                        ? 'clinicalFile.canceled.label'
                        : 'S/R'
                      ) | transloco
                    }}
                  </button>
                  <p class="card-text text-center mt-3 mb-2">ID consulta: {{ appointmentDetail._id }}</p>
                  <p class="card-text text-center">
                    {{ 'clinicalFile.madeAt.label' | transloco }}
                    {{ appointmentDetail.dateDetails.date | date: 'dd/MM/yyyy':'+0000' }}
                  </p>
                  <h5 class="card-title">
                    <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-clock" fill="currentColor"
                      xmlns="http://www.w3.org/2000/svg">
                      <path fill-rule="evenodd"
                        d="M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14zm8-7A8 8 0 1 1 0 8a8 8 0 0 1 16 0z" />
                      <path fill-rule="evenodd"
                        d="M7.5 3a.5.5 0 0 1 .5.5v5.21l3.248 1.856a.5.5 0 0 1-.496.868l-3.5-2A.5.5 0 0 1 7 9V3.5a.5.5 0 0 1 .5-.5z" />
                    </svg>
                    {{ appointmentDetail.dateDetails.start }}
                  </h5>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!--nav-tabs parent-->
      <div class="row mtfixed">
        <div class="col-12 mb-2">
          <ul class="nav nav-tabs nav-fill" id="myTab" role="tablist">
            <li class="nav-item" role="presentation">
              <a class="nav-link active" id="resumenConsulta" data-toggle="tab"
                href="#resumen{{ 'clinicalFile.service.label' | transloco }}Tab" role="tab"
                aria-controls="resumenConsulta">
                {{ 'clinicalFile.service.label' | transloco }} {{ 'common.current.label' | transloco }}
              </a>
            </li>
            <li class="nav-item" role="presentation">
              <a class="nav-link" id="antecedentesPaciente" data-toggle="tab" href="#antecedentesPacienteTab" role="tab"
                aria-controls="antecedentesPaciente">
                {{ 'clinicalFile.tabs.antecentesFromPatient' | transloco }}
              </a>
            </li>
            <li class="nav-item" role="presentation">
              <a class="nav-link" id="profile-tab2" data-toggle="tab" href="#examenesDocumentosTab" role="tab"
                aria-controls="examenesDocumentos" aria-selected="false">
                {{ 'clinicalFile.patientData.tabs.exams.label' | transloco }}
              </a>
            </li>
            <li class="nav-item" role="presentation">
              <a class="nav-link" id="profile-tab3" data-toggle="tab" href="#prescripacionesTab" role="tab"
                aria-controls="prescripaciones" aria-selected="false">
                {{ 'clinicalFile.patientData.tabs.prescriptions.label' | transloco }}
              </a>
            </li>
            <li class="nav-item" role="presentation">
              <a class="nav-link" id="profile-tab" data-toggle="tab" href="#timelineTab" role="tab"
                aria-controls="timeline" aria-selected="false">
                {{ 'clinicalFile.patientData.tabs.timeLine.label' | transloco }}
              </a>
            </li>
            <li class="nav-item" role="presentation" *ngIf="setup === 'CL'">
              <a class="nav-link" id="profile-tab" data-toggle="tab" href="#notasTab" role="tab" aria-controls="notas"
                aria-selected="false">
                {{ 'clinicalFile.tabs.gesEno.label' | transloco }}
              </a>
            </li>
          </ul>
        </div>
      </div>
      <!--/nav-tabs-->

      <!--tabs-->
      <div class="tab-content w-100 mt-3" id="myTabContent">
        <!--tab-->
        <div class="tab-pane fade show active" id="resumen{{ 'clinicalFile.service.label' | transloco }}Tab"
          role="tabpanel" aria-labelledby="resumenConsulta">
          <div class="row">
            <div class="col-12">
              <div class="bg-white rounded-lg p-1">
                <ul class="nav nav-pills nav-fill w-100 tab-consulta" id="myTab2" role="tablist" style="border: none;">
                  <li class="nav-item" role="presentation">
                    <a class="nav-link active" id="home-tab" data-toggle="tab" href="#home" role="tab"
                      aria-controls="home" aria-selected="true">{{ 'clinicalFile.service.label' | transloco }}
                    </a>
                  </li>
                  <li class="nav-item" role="presentation">
                    <a class="nav-link" id="profile-tab" data-toggle="tab" href="#profile" role="tab"
                      aria-controls="profile"
                      aria-selected="false">{{ 'clinicalFile.tabs.antecentesFromProfessional' | transloco }}
                    </a>
                  </li>
                  <li class="nav-item" role="presentation">
                    <a class="nav-link" id="contact-tab" data-toggle="tab" href="#contact" role="tab"
                      aria-controls="contact"
                      aria-selected="false">{{ 'clinicalFile.patientData.tabs.summary.diagnosis.label' | transloco }}
                    </a>
                  </li>
                  <li class="nav-item" role="presentation">
                    <a class="nav-link" id="contact-tab2" data-toggle="tab" href="#contact2" role="tab"
                      aria-controls="contact2"
                      aria-selected="false">{{ 'clinicalFile.patientData.tabs.notes.label' | transloco }}
                    </a>
                  </li>
                </ul>
                <div class="tab-content" id="myTabContent">
                  <!--tab info paciente-->
                  <div class="tab-pane fade show active p-4" id="home" role="tabpanel" aria-labelledby="home-tab">
                    <form>
                      <div class="row">
                        <div class="form-group col">
                          <label for="endBlock">
                            {{ 'dashboard.home.newService.synptoms.description.label' | transloco }}
                          </label>
                          <div class="w-100 border rounded p-3">
                            <ng-container *ngIf="appointmentDetail.patientDetails.description === null; else info">
                              <p>{{ 'common.noInfo.label' | transloco }}</p>
                            </ng-container>
                            <ng-template #info>
                              <p>{{ appointmentDetail.patientDetails.description }}</p>
                            </ng-template>
                          </div>
                        </div>
                      </div>
                    </form>

                    <form [formGroup]="consultasForm">
                      <div class="row">
                        <div class="col-12">
                          <label for="motive">
                            {{ 'clinicalFile.serviceReason.label' | transloco }}
                          </label>
                          <textarea class="form-control" rows="5" id="motive" name="motive" formControlName="motive"
                            [attr.disabled]="permisoGuardar === false ? '' : null"></textarea>
                        </div>
                        <div class="col-6 mt-3">
                          <label for="endBlock">{{ 'clinicalFile.serviceObjetive.label' | transloco }}</label>

                          <select class="form-control" name="education" formControlName="objective"
                            [attr.disabled]="permisoGuardar === false ? '' : null">
                            <option [ngValue]="null">{{ 'common.select.label' | transloco }}</option>
                            <option [ngValue]="item._id" *ngFor="let item of objetives">
                              {{ item.name }}
                            </option>
                          </select>

                          <!-- <input class="form-control" type="text" id="objective" name="objective"
                            formControlName="objective" [attr.disabled]="permisoGuardar === false ? '' : null" /> -->
                        </div>
                        <div class="col-6 mt-3">
                          <label for="endBlock">&nbsp;</label>
                          <ng-container *ngFor="let item of appointmentDetail.patientDetails.symptomsDetails">
                            <!--sintoma-->
                            <div class="sintoma mb-3">
                              <div class="icon">
                                <svg width="25" height="25" viewBox="0 0 25 25" fill="none"
                                  xmlns="http://www.w3.org/2000/svg">
                                  <path
                                    d="M23.4375 0H14.2708C13.3854 0 12.7083 0.677083 12.7083 1.5625V8.4375C12.7083 9.32292 13.3854 10 14.2708 10H18.3333V20.7292C18.3333 21.1979 17.9167 21.6146 17.4479 21.6146H15.2083V19.0625C15.2083 17.3438 13.8542 15.7812 11.7188 15.1042C10.625 14.7396 9.89583 14.0104 9.89583 13.2292V12.7083C11.0938 11.5625 11.875 9.63542 11.875 7.8125C11.875 5.26042 10.2083 3.59375 7.60417 3.59375C5 3.59375 3.33333 5.26042 3.33333 7.8125C3.33333 9.63542 4.11458 11.5625 5.3125 12.7083V13.2292C5.3125 14.0104 4.58333 14.7396 3.48958 15.1042C1.35417 15.8333 0 17.3958 0 19.1146V24.4792C0 24.7917 0.208333 25 0.520833 25H14.6875C15 25 15.2083 24.7917 15.2083 24.4792V22.7083H17.4479C18.4896 22.7083 19.375 21.8229 19.375 20.7812V10H23.4375C24.3229 10 25 9.32292 25 8.4375V1.5625C25 0.729167 24.3229 0 23.4375 0ZM4.375 7.8125C4.375 5.83333 5.57292 4.63542 7.60417 4.63542C9.63542 4.63542 10.8333 5.83333 10.8333 7.8125C10.8333 9.84375 9.47917 12.6562 7.60417 12.6562C5.72917 12.7083 4.375 9.89583 4.375 7.8125ZM14.1667 21.6667H11.7708C11.4062 21.6667 11.1458 21.4583 10.9896 21.1979C11.6667 20.9375 12.1875 20.2604 12.1875 19.5312C12.1875 18.5417 11.3542 17.7083 10.3646 17.7083C9.375 17.7083 8.54167 18.5417 8.54167 19.5312C8.54167 20.3646 9.11458 21.0417 9.89583 21.25C10.1042 22.0833 10.8854 22.7083 11.7708 22.7083H14.1667V23.9583H1.04167V19.1146C1.04167 17.8646 2.08333 16.6667 3.80208 16.0938C5.3125 15.5729 6.25 14.5833 6.30208 13.3854C6.71875 13.5938 7.13542 13.6979 7.60417 13.6979C8.07292 13.6979 8.48958 13.5938 8.90625 13.3854C9.01042 14.5312 9.94792 15.5729 11.4062 16.0938C13.0729 16.6667 14.1667 17.8125 14.1667 19.1146V21.6667ZM10.3646 20.2604C9.94792 20.2604 9.58333 19.8958 9.58333 19.4792C9.58333 19.0625 9.94792 18.6979 10.3646 18.6979C10.7812 18.6979 11.1458 19.0625 11.1458 19.4792C11.1458 19.8958 10.7812 20.2604 10.3646 20.2604ZM23.9583 8.4375C23.9583 8.75 23.75 8.95833 23.4375 8.95833H14.2708C13.9583 8.95833 13.75 8.75 13.75 8.4375V5.36458H15.0521C15.2083 5.36458 15.3646 5.26042 15.4688 5.15625L16.1458 4.11458L16.9792 7.60417C17.0312 7.8125 17.1875 7.96875 17.3958 8.02083C17.4479 8.02083 17.4479 8.02083 17.5 8.02083C17.6562 8.02083 17.8125 7.91667 17.9167 7.8125L19.1146 6.04167L19.9479 7.13542C20.0521 7.29167 20.2083 7.34375 20.4167 7.34375C20.5729 7.34375 20.7292 7.23958 20.8333 7.08333L21.8229 5.15625H23.9583V8.4375ZM23.9583 4.11458H21.5104C21.3021 4.11458 21.1458 4.21875 21.0417 4.375L20.3125 5.88542L19.5312 4.89583C19.4271 4.73958 19.2708 4.6875 19.1146 4.6875C18.9583 4.6875 18.8021 4.79167 18.6979 4.89583L17.7083 6.25L16.875 2.70833C16.8229 2.5 16.6667 2.34375 16.4583 2.29167C16.25 2.23958 16.0417 2.34375 15.9375 2.5L14.7396 4.32292H13.75V1.5625C13.75 1.25 13.9583 1.04167 14.2708 1.04167H23.4375C23.75 1.04167 23.9583 1.25 23.9583 1.5625V4.11458Z"
                                    fill="#497DF9" />
                                </svg>
                              </div>
                              <p class="text-right">
                                {{ item.name }}
                              </p>
                            </div>
                            <!--/sintoma-->
                          </ng-container>
                        </div>
                      </div>
                      <div class="row mt-3">
                        <div class="col-12 mb-4">
                          <label for="endBlock">{{ 'clinicalFile.anamnesis.label' | transloco }}</label>
                          <textarea class="form-control" rows="5" id="anamnesis" name="anamnesis"
                            formControlName="anamnesis"
                            [attr.disabled]="permisoGuardar === false ? '' : null"></textarea>
                        </div>
                      </div>
                    </form>

                    <form [formGroup]="signos">
                      <div class="row">
                        <div class="col-12">
                          <div>
                            <p class="title">
                              <svg width="25" height="25" viewBox="0 0 25 25" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <path
                                  d="M23.4375 0H14.2708C13.3854 0 12.7083 0.677083 12.7083 1.5625V8.4375C12.7083 9.32292 13.3854 10 14.2708 10H18.3333V20.7292C18.3333 21.1979 17.9167 21.6146 17.4479 21.6146H15.2083V19.0625C15.2083 17.3438 13.8542 15.7812 11.7188 15.1042C10.625 14.7396 9.89583 14.0104 9.89583 13.2292V12.7083C11.0938 11.5625 11.875 9.63542 11.875 7.8125C11.875 5.26042 10.2083 3.59375 7.60417 3.59375C5 3.59375 3.33333 5.26042 3.33333 7.8125C3.33333 9.63542 4.11458 11.5625 5.3125 12.7083V13.2292C5.3125 14.0104 4.58333 14.7396 3.48958 15.1042C1.35417 15.8333 0 17.3958 0 19.1146V24.4792C0 24.7917 0.208333 25 0.520833 25H14.6875C15 25 15.2083 24.7917 15.2083 24.4792V22.7083H17.4479C18.4896 22.7083 19.375 21.8229 19.375 20.7812V10H23.4375C24.3229 10 25 9.32292 25 8.4375V1.5625C25 0.729167 24.3229 0 23.4375 0ZM4.375 7.8125C4.375 5.83333 5.57292 4.63542 7.60417 4.63542C9.63542 4.63542 10.8333 5.83333 10.8333 7.8125C10.8333 9.84375 9.47917 12.6562 7.60417 12.6562C5.72917 12.7083 4.375 9.89583 4.375 7.8125ZM14.1667 21.6667H11.7708C11.4062 21.6667 11.1458 21.4583 10.9896 21.1979C11.6667 20.9375 12.1875 20.2604 12.1875 19.5312C12.1875 18.5417 11.3542 17.7083 10.3646 17.7083C9.375 17.7083 8.54167 18.5417 8.54167 19.5312C8.54167 20.3646 9.11458 21.0417 9.89583 21.25C10.1042 22.0833 10.8854 22.7083 11.7708 22.7083H14.1667V23.9583H1.04167V19.1146C1.04167 17.8646 2.08333 16.6667 3.80208 16.0938C5.3125 15.5729 6.25 14.5833 6.30208 13.3854C6.71875 13.5938 7.13542 13.6979 7.60417 13.6979C8.07292 13.6979 8.48958 13.5938 8.90625 13.3854C9.01042 14.5312 9.94792 15.5729 11.4062 16.0938C13.0729 16.6667 14.1667 17.8125 14.1667 19.1146V21.6667ZM10.3646 20.2604C9.94792 20.2604 9.58333 19.8958 9.58333 19.4792C9.58333 19.0625 9.94792 18.6979 10.3646 18.6979C10.7812 18.6979 11.1458 19.0625 11.1458 19.4792C11.1458 19.8958 10.7812 20.2604 10.3646 20.2604ZM23.9583 8.4375C23.9583 8.75 23.75 8.95833 23.4375 8.95833H14.2708C13.9583 8.95833 13.75 8.75 13.75 8.4375V5.36458H15.0521C15.2083 5.36458 15.3646 5.26042 15.4688 5.15625L16.1458 4.11458L16.9792 7.60417C17.0312 7.8125 17.1875 7.96875 17.3958 8.02083C17.4479 8.02083 17.4479 8.02083 17.5 8.02083C17.6562 8.02083 17.8125 7.91667 17.9167 7.8125L19.1146 6.04167L19.9479 7.13542C20.0521 7.29167 20.2083 7.34375 20.4167 7.34375C20.5729 7.34375 20.7292 7.23958 20.8333 7.08333L21.8229 5.15625H23.9583V8.4375ZM23.9583 4.11458H21.5104C21.3021 4.11458 21.1458 4.21875 21.0417 4.375L20.3125 5.88542L19.5312 4.89583C19.4271 4.73958 19.2708 4.6875 19.1146 4.6875C18.9583 4.6875 18.8021 4.79167 18.6979 4.89583L17.7083 6.25L16.875 2.70833C16.8229 2.5 16.6667 2.34375 16.4583 2.29167C16.25 2.23958 16.0417 2.34375 15.9375 2.5L14.7396 4.32292H13.75V1.5625C13.75 1.25 13.9583 1.04167 14.2708 1.04167H23.4375C23.75 1.04167 23.9583 1.25 23.9583 1.5625V4.11458Z"
                                  fill="#497DF9" />
                              </svg>
                              {{ 'clinicalFile.patientData.tabs.summary.vitalSigns.label' | transloco }}
                            </p>
                            <div class="form-row">
                              <div class="form-group col-3">
                                <label for="inputEmail4">{{
                                  'clinicalFile.patientData.tabs.summary.vitalSigns.pas.label' | transloco
                                }}</label>
                                <input class="form-control" placeholder="mmhg" type="text" name="PAS" id="PAS" min="1"
                                  max="60" name="document" formControlName="PAS"
                                  [attr.disabled]="permisoGuardar === false ? '' : null" />
                              </div>
                              <div class="form-group col-3">
                                <label for="inputEmail4">{{
                                  'clinicalFile.patientData.tabs.summary.vitalSigns.pad.label' | transloco
                                }}</label>
                                <input class="form-control"
                                  placeholder="{{ 'common.placeholders.mmhg.label' | transloco }}" type="text"
                                  name="PAD" id="PAD" min="1" max="60" formControlName="PAD"
                                  [attr.disabled]="permisoGuardar === false ? '' : null" />
                              </div>
                              <div class="form-group col-3">
                                <label for="inputEmail4">{{ 'clinicalFile.avgPA.label' | transloco }}</label>
                                <input class="form-control"
                                  placeholder="{{ 'common.placeholders.mmhg.label' | transloco }}" type="text"
                                  name="PAmedia" id="PAmedia" formControlName="PAmedia"
                                  [attr.disabled]="permisoGuardar === false ? '' : null" />
                              </div>
                              <div class="form-group col-3">
                                <label for="inputEmail4">{{
                                  'clinicalFile.patientData.tabs.summary.vitalSigns.fc.label' | transloco
                                }}</label>
                                <input class="form-control"
                                  placeholder="{{ 'common.placeholders.latMin.label' | transloco }}" type="text"
                                  name="FC" id="FC" formControlName="FC"
                                  [attr.disabled]="permisoGuardar === false ? '' : null" />
                              </div>
                            </div>
                            <div class="form-row">
                              <div class="form-group col-3">
                                <label for="inputEmail4">{{
                                  'clinicalFile.patientData.tabs.summary.vitalSigns.fr.label' | transloco
                                }}</label>
                                <input class="form-control"
                                  placeholder="{{ 'common.placeholders.resMin.label' | transloco }}" type="text"
                                  name="FR" id="FR" formControlName="FR"
                                  [attr.disabled]="permisoGuardar === false ? '' : null" />
                              </div>
                              <div class="form-group col-3">
                                <label for="inputEmail4">{{ 'clinicalFile.temperature.label' | transloco }}</label>
                                <input class="form-control"
                                  placeholder="{{ 'common.placeholders.celFar.label' | transloco }}" type="text"
                                  name="Temp" id="Temp" formControlName="Temp"
                                  [attr.disabled]="permisoGuardar === false ? '' : null" />
                              </div>
                              <div class="form-group col-3">
                                <label for="inputEmail4">{{ 'clinicalFile.sat2.label' | transloco }}</label>
                                <input class="form-control" placeholder="%" type="text" name="Sat" id="Sat"
                                  formControlName="Sat" [attr.disabled]="permisoGuardar === false ? '' : null" />
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </form>

                    <form [formGroup]="nutricion">
                      <div class="row mt-3">
                        <div class="col-12">
                          <div>
                            <p class="title">
                              <svg width="25" height="25" viewBox="0 0 25 25" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <path
                                  d="M23.4375 0H14.2708C13.3854 0 12.7083 0.677083 12.7083 1.5625V8.4375C12.7083 9.32292 13.3854 10 14.2708 10H18.3333V20.7292C18.3333 21.1979 17.9167 21.6146 17.4479 21.6146H15.2083V19.0625C15.2083 17.3438 13.8542 15.7812 11.7188 15.1042C10.625 14.7396 9.89583 14.0104 9.89583 13.2292V12.7083C11.0938 11.5625 11.875 9.63542 11.875 7.8125C11.875 5.26042 10.2083 3.59375 7.60417 3.59375C5 3.59375 3.33333 5.26042 3.33333 7.8125C3.33333 9.63542 4.11458 11.5625 5.3125 12.7083V13.2292C5.3125 14.0104 4.58333 14.7396 3.48958 15.1042C1.35417 15.8333 0 17.3958 0 19.1146V24.4792C0 24.7917 0.208333 25 0.520833 25H14.6875C15 25 15.2083 24.7917 15.2083 24.4792V22.7083H17.4479C18.4896 22.7083 19.375 21.8229 19.375 20.7812V10H23.4375C24.3229 10 25 9.32292 25 8.4375V1.5625C25 0.729167 24.3229 0 23.4375 0ZM4.375 7.8125C4.375 5.83333 5.57292 4.63542 7.60417 4.63542C9.63542 4.63542 10.8333 5.83333 10.8333 7.8125C10.8333 9.84375 9.47917 12.6562 7.60417 12.6562C5.72917 12.7083 4.375 9.89583 4.375 7.8125ZM14.1667 21.6667H11.7708C11.4062 21.6667 11.1458 21.4583 10.9896 21.1979C11.6667 20.9375 12.1875 20.2604 12.1875 19.5312C12.1875 18.5417 11.3542 17.7083 10.3646 17.7083C9.375 17.7083 8.54167 18.5417 8.54167 19.5312C8.54167 20.3646 9.11458 21.0417 9.89583 21.25C10.1042 22.0833 10.8854 22.7083 11.7708 22.7083H14.1667V23.9583H1.04167V19.1146C1.04167 17.8646 2.08333 16.6667 3.80208 16.0938C5.3125 15.5729 6.25 14.5833 6.30208 13.3854C6.71875 13.5938 7.13542 13.6979 7.60417 13.6979C8.07292 13.6979 8.48958 13.5938 8.90625 13.3854C9.01042 14.5312 9.94792 15.5729 11.4062 16.0938C13.0729 16.6667 14.1667 17.8125 14.1667 19.1146V21.6667ZM10.3646 20.2604C9.94792 20.2604 9.58333 19.8958 9.58333 19.4792C9.58333 19.0625 9.94792 18.6979 10.3646 18.6979C10.7812 18.6979 11.1458 19.0625 11.1458 19.4792C11.1458 19.8958 10.7812 20.2604 10.3646 20.2604ZM23.9583 8.4375C23.9583 8.75 23.75 8.95833 23.4375 8.95833H14.2708C13.9583 8.95833 13.75 8.75 13.75 8.4375V5.36458H15.0521C15.2083 5.36458 15.3646 5.26042 15.4688 5.15625L16.1458 4.11458L16.9792 7.60417C17.0312 7.8125 17.1875 7.96875 17.3958 8.02083C17.4479 8.02083 17.4479 8.02083 17.5 8.02083C17.6562 8.02083 17.8125 7.91667 17.9167 7.8125L19.1146 6.04167L19.9479 7.13542C20.0521 7.29167 20.2083 7.34375 20.4167 7.34375C20.5729 7.34375 20.7292 7.23958 20.8333 7.08333L21.8229 5.15625H23.9583V8.4375ZM23.9583 4.11458H21.5104C21.3021 4.11458 21.1458 4.21875 21.0417 4.375L20.3125 5.88542L19.5312 4.89583C19.4271 4.73958 19.2708 4.6875 19.1146 4.6875C18.9583 4.6875 18.8021 4.79167 18.6979 4.89583L17.7083 6.25L16.875 2.70833C16.8229 2.5 16.6667 2.34375 16.4583 2.29167C16.25 2.23958 16.0417 2.34375 15.9375 2.5L14.7396 4.32292H13.75V1.5625C13.75 1.25 13.9583 1.04167 14.2708 1.04167H23.4375C23.75 1.04167 23.9583 1.25 23.9583 1.5625V4.11458Z"
                                  fill="#497DF9" />
                              </svg>
                              {{ 'clinicalFile.nutritionalState.label' | transloco }}
                            </p>
                            <div class="form-row">
                              <div class="form-group col-3">
                                <label for="weight">{{
                                  'clinicalFile.patientData.tabs.summary.nutritional.weight.label' | transloco
                                }}</label>
                                <input class="form-control"
                                  placeholder="{{ 'common.placeholders.kgLb.label' | transloco }}" type="text"
                                  name="weight" id="weight" min="1" max="60" name="weight" formControlName="weight"
                                  (keyup)="imcCalculateFromWeight($event)"
                                  [attr.disabled]="permisoGuardar === false ? '' : null" />
                              </div>
                              <div class="form-group col-3">
                                <label for="height">{{
                                  'clinicalFile.patientData.tabs.summary.nutritional.height.label' | transloco
                                }}</label>
                                <input class="form-control"
                                  placeholder="{{ 'common.placeholders.mFt.label' | transloco }}" type="text"
                                  name="height" id="height" min="1"
                                  [attr.disabled]="permisoGuardar === false ? '' : null" max="60"
                                  formControlName="height" (keyup)="imcCalculateFromHeight($event)" />
                              </div>
                              <div class="form-group col-3">
                                <label for="imc">{{
                                  'clinicalFile.patientData.tabs.summary.nutritional.imc.label' | transloco
                                }}</label>
                                <input class="form-control" placeholder="" type="text" name="imc" id="imc"
                                  formControlName="imc" readonly />
                              </div>
                              <div class="form-group col-3">
                                <label for="imcClassification">Classificação
                                  {{ 'clinicalFile.patientData.tabs.summary.nutritional.imc.label' | transloco }}</label>
                                <input class="form-control" placeholder="" type="text" name="imcClassification"
                                  id="imcClassification" formControlName="imcClassification" readonly />
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </form>

                    <form [formGroup]="otros">
                      <div class="row mt-3">
                        <div class="col-12">
                          <div class="form-row">
                            <label for="physicalExam">{{ 'clinicalFile.phisicalExam.label' | transloco }}</label>
                            <textarea name="physicalExam" class="form-control" id="physicalExam" rows="5"
                              id="physicalExam" formControlName="physicalExam"
                              [attr.disabled]="permisoGuardar === false ? '' : null">
                            </textarea>
                          </div>
                        </div>
                        <div class="col-12 mt-3">
                          <div class="form-row">
                            <label for="examHighlights">{{ 'clinicalFile.labAspects.label' | transloco }}</label>
                            <textarea name="examHighlights" class="form-control" id="examHighlights" rows="5"
                              id="examHighlights" formControlName="examHighlights"
                              [attr.disabled]="permisoGuardar === false ? '' : null">
                            </textarea>
                          </div>
                        </div>

                      </div>
                    </form>

                    <div class="tab-content" id="myTabContent">
                      <div class="tab-pane fade scrollVertical" id="profile4" role="tabpanel"
                        aria-labelledby="profile-tab4">
                        <!-- colappsed-->
                        <div class="collapseCustom border-dark">
                          <a class="p-3" data-toggle="collapse" href="#sickness" role="button" aria-expanded="false"
                            aria-controls="collapseExample">
                            <svg class="mr-2" width="15" height="9" viewBox="0 0 15 9" fill="none"
                              xmlns="http://www.w3.org/2000/svg">
                              <path fill-rule="evenodd" clip-rule="evenodd"
                                d="M13.8463 0.18686C13.6309 -0.0417118 13.3006 -0.0417118 13.0852 0.18686L6.99704 6.63257L0.923198 0.171622C0.707814 -0.056949 0.377556 -0.056949 0.162172 0.171622C-0.0532125 0.400193 -0.0532125 0.75067 0.162172 0.979241L6.62371 7.83638C6.8391 8.06496 7.16935 8.06496 7.38474 7.83638L13.8463 0.979241C14.0617 0.765907 14.0617 0.415431 13.8463 0.18686Z"
                                fill="#7D7D7D" />
                            </svg>
                            {{ 'clinicalFile.patientData.tabs.videoChat.info.background.diseases.label' | transloco }}
                          </a>

                          <div class="collapse show" id="sickness" *ngFor="let item of antecedentes">
                            <ul class="antecedentes">
                              <li class="pl-5">
                                {{ item.value }}
                              </li>

                              <li style="display: none;">A medicamentos tipo C</li>
                            </ul>
                          </div>
                        </div>
                        <!--/colappsed-->

                        <!-- colappsed-->
                        <div class="collapseCustom border-dark">
                          <a class="p-3" data-toggle="collapse" href="#allergies" role="button" aria-expanded="false"
                            aria-controls="collapseExample">
                            <svg class="mr-2" width="15" height="9" viewBox="0 0 15 9" fill="none"
                              xmlns="http://www.w3.org/2000/svg">
                              <path fill-rule="evenodd" clip-rule="evenodd"
                                d="M13.8463 0.18686C13.6309 -0.0417118 13.3006 -0.0417118 13.0852 0.18686L6.99704 6.63257L0.923198 0.171622C0.707814 -0.056949 0.377556 -0.056949 0.162172 0.171622C-0.0532125 0.400193 -0.0532125 0.75067 0.162172 0.979241L6.62371 7.83638C6.8391 8.06496 7.16935 8.06496 7.38474 7.83638L13.8463 0.979241C14.0617 0.765907 14.0617 0.415431 13.8463 0.18686Z"
                                fill="#7D7D7D" />
                            </svg>
                            {{ 'clinicalFile.patientData.tabs.videoChat.info.background.allergies.label' | transloco }}
                          </a>

                          <div class="collapse show" id="allergies" *ngFor="let item of allergies">
                            <ul class="antecedentes">
                              <li class="pl-5">
                                {{ item.value }}
                              </li>

                            </ul>
                          </div>
                        </div>
                        <!--/colappsed-->

                        <!-- colappsed-->
                        <div class="collapseCustom border-dark">
                          <a class="p-3" data-toggle="collapse" href="#surgicalInterventions" role="button"
                            aria-expanded="false" aria-controls="collapseExample">
                            <svg class="mr-2" width="15" height="9" viewBox="0 0 15 9" fill="none"
                              xmlns="http://www.w3.org/2000/svg">
                              <path fill-rule="evenodd" clip-rule="evenodd"
                                d="M13.8463 0.18686C13.6309 -0.0417118 13.3006 -0.0417118 13.0852 0.18686L6.99704 6.63257L0.923198 0.171622C0.707814 -0.056949 0.377556 -0.056949 0.162172 0.171622C-0.0532125 0.400193 -0.0532125 0.75067 0.162172 0.979241L6.62371 7.83638C6.8391 8.06496 7.16935 8.06496 7.38474 7.83638L13.8463 0.979241C14.0617 0.765907 14.0617 0.415431 13.8463 0.18686Z"
                                fill="#7D7D7D" />
                            </svg>
                            {{
                              'clinicalFile.patientData.tabs.videoChat.info.background.surgicalInterventions.label'
                                | transloco
                            }}
                          </a>

                          <div class="collapse show" id="surgicalInterventions"
                            *ngFor="let item of antecedentesGeneral?.surgicalInterventions">
                            <ul class="antecedentes">
                              <li class="pl-5">
                                {{ item.value }}
                              </li>

                              <li style="display: none;">A medicamentos tipo C</li>
                            </ul>
                          </div>
                        </div>
                        <!--/colappsed-->

                        <!-- colappsed-->
                        <div class="collapseCustom border-dark">
                          <a class="p-3" data-toggle="collapse" href="#familiarHistory" role="button"
                            aria-expanded="false" aria-controls="collapseExample">
                            <svg class="mr-2" width="15" height="9" viewBox="0 0 15 9" fill="none"
                              xmlns="http://www.w3.org/2000/svg">
                              <path fill-rule="evenodd" clip-rule="evenodd"
                                d="M13.8463 0.18686C13.6309 -0.0417118 13.3006 -0.0417118 13.0852 0.18686L6.99704 6.63257L0.923198 0.171622C0.707814 -0.056949 0.377556 -0.056949 0.162172 0.171622C-0.0532125 0.400193 -0.0532125 0.75067 0.162172 0.979241L6.62371 7.83638C6.8391 8.06496 7.16935 8.06496 7.38474 7.83638L13.8463 0.979241C14.0617 0.765907 14.0617 0.415431 13.8463 0.18686Z"
                                fill="#7D7D7D" />
                            </svg>
                            {{ 'clinicalFile.patientData.tabs.videoChat.info.background.label' | transloco }} Familiares
                          </a>
                          <ng-container *ngIf="antecedentesGeneral">
                            <div class="collapse show" id="familiarHistory"
                              *ngFor="let item of antecedentesGeneral.familiarHistory">
                              <ul class="antecedentes">
                                <li class="pl-5">
                                  {{ item.value }}
                                </li>
                                <li style="display: none;">A medicamentos tipo C</li>
                              </ul>
                            </div>
                          </ng-container>
                        </div>
                        <!--/colappsed-->

                        <!-- colappsed-->
                        <div class="collapseCustom border-dark">
                          <a class="p-3" data-toggle="collapse" href="#healthHabits" role="button" aria-expanded="false"
                            aria-controls="collapseExample">
                            <svg class="mr-2" width="15" height="9" viewBox="0 0 15 9" fill="none"
                              xmlns="http://www.w3.org/2000/svg">
                              <path fill-rule="evenodd" clip-rule="evenodd"
                                d="M13.8463 0.18686C13.6309 -0.0417118 13.3006 -0.0417118 13.0852 0.18686L6.99704 6.63257L0.923198 0.171622C0.707814 -0.056949 0.377556 -0.056949 0.162172 0.171622C-0.0532125 0.400193 -0.0532125 0.75067 0.162172 0.979241L6.62371 7.83638C6.8391 8.06496 7.16935 8.06496 7.38474 7.83638L13.8463 0.979241C14.0617 0.765907 14.0617 0.415431 13.8463 0.18686Z"
                                fill="#7D7D7D" />
                            </svg>
                            {{ 'clinicalFile.patientData.tabs.patientHistory.habits.label' | transloco }}
                          </a>

                          <ng-container *ngIf="antecedentesGeneral">
                            <div class="collapse show" id="healthHabits"
                              *ngFor="let item of antecedentesGeneral.healthHabits">
                              <ul class="antecedentes">
                                <li class="pl-5" id="{{ item.id }}">
                                  {{ item.value }}
                                </li>
                                <li style="display: none;">A medicamentos tipo C</li>
                              </ul>
                            </div>
                          </ng-container>
                        </div>
                        <!--/colappsed-->

                        <!-- colappsed-->
                        <div class="collapseCustom border-dark">
                          <a class="p-3" data-toggle="collapse" href="#medicines" role="button" aria-expanded="false"
                            aria-controls="collapseExample">
                            <svg class="mr-2" width="15" height="9" viewBox="0 0 15 9" fill="none"
                              xmlns="http://www.w3.org/2000/svg">
                              <path fill-rule="evenodd" clip-rule="evenodd"
                                d="M13.8463 0.18686C13.6309 -0.0417118 13.3006 -0.0417118 13.0852 0.18686L6.99704 6.63257L0.923198 0.171622C0.707814 -0.056949 0.377556 -0.056949 0.162172 0.171622C-0.0532125 0.400193 -0.0532125 0.75067 0.162172 0.979241L6.62371 7.83638C6.8391 8.06496 7.16935 8.06496 7.38474 7.83638L13.8463 0.979241C14.0617 0.765907 14.0617 0.415431 13.8463 0.18686Z"
                                fill="#7D7D7D" />
                            </svg>
                            {{ 'clinicalFile.patientData.tabs.videoChat.info.background.meds.label' | transloco }}
                          </a>

                          <ng-container *ngIf="antecedentesGeneral">
                            <div class="collapse show" id="medicines"
                              *ngFor="let item of antecedentesGeneral.medicines">
                              <ul class="antecedentes">
                                <li class="pl-5" id="{{ item.id }}">
                                  {{ item.value }}
                                </li>
                                <li style="display: none;">A medicamentos tipo C</li>
                              </ul>
                            </div>
                          </ng-container>
                        </div>
                        <!--/colappsed-->

                        <!-- colappsed-->
                        <div class="collapseCustom border-dark">
                          <a class="p-3" data-toggle="collapse" href="#occupational" role="button" aria-expanded="false"
                            aria-controls="collapseExample">
                            <svg class="mr-2" width="15" height="9" viewBox="0 0 15 9" fill="none"
                              xmlns="http://www.w3.org/2000/svg">
                              <path fill-rule="evenodd" clip-rule="evenodd"
                                d="M13.8463 0.18686C13.6309 -0.0417118 13.3006 -0.0417118 13.0852 0.18686L6.99704 6.63257L0.923198 0.171622C0.707814 -0.056949 0.377556 -0.056949 0.162172 0.171622C-0.0532125 0.400193 -0.0532125 0.75067 0.162172 0.979241L6.62371 7.83638C6.8391 8.06496 7.16935 8.06496 7.38474 7.83638L13.8463 0.979241C14.0617 0.765907 14.0617 0.415431 13.8463 0.18686Z"
                                fill="#7D7D7D" />
                            </svg>
                            {{
                              'clinicalFile.patientData.tabs.videoChat.info.background.occupational.label' | transloco
                            }}
                          </a>

                          <ng-container *ngIf="antecedentesGeneral">
                            <div class="collapse show" id="occupational"
                              *ngFor="let item of antecedentesGeneral.occupational">
                              <ul class="antecedentes">
                                <li class="pl-5" id="{{ item.id }}">
                                  {{ item.value }}
                                </li>
                              </ul>
                            </div>
                          </ng-container>
                        </div>
                        <!--/colappsed-->

                        <!-- colappsed-->
                        <div class="collapseCustom border-dark">
                          <a class="p-3" data-toggle="collapse" href="#others" role="button" aria-expanded="false"
                            aria-controls="collapseExample">
                            <svg class="mr-2" width="15" height="9" viewBox="0 0 15 9" fill="none"
                              xmlns="http://www.w3.org/2000/svg">
                              <path fill-rule="evenodd" clip-rule="evenodd"
                                d="M13.8463 0.18686C13.6309 -0.0417118 13.3006 -0.0417118 13.0852 0.18686L6.99704 6.63257L0.923198 0.171622C0.707814 -0.056949 0.377556 -0.056949 0.162172 0.171622C-0.0532125 0.400193 -0.0532125 0.75067 0.162172 0.979241L6.62371 7.83638C6.8391 8.06496 7.16935 8.06496 7.38474 7.83638L13.8463 0.979241C14.0617 0.765907 14.0617 0.415431 13.8463 0.18686Z"
                                fill="#7D7D7D" />
                            </svg>
                            {{ 'clinicalFile.patientData.tabs.videoChat.info.background.other.label' | transloco }}
                          </a>

                          <ng-container *ngIf="antecedentesGeneral">
                            <div class="collapse show" id="others" *ngFor="let item of antecedentesGeneral.others">
                              <ul class="antecedentes">
                                <li class="pl-5" id="{{ item.id }}">
                                  {{ item.value }}
                                </li>
                              </ul>
                            </div>
                          </ng-container>
                        </div>
                        <!--/colappsed-->
                      </div>
                    </div>
                  </div>
                  <!--/tab info paciente-->

                  <!--antecedentes by professional-->
                  <div class="tab-pane fade p-4" id="profile" role="tabpanel" aria-labelledby="profile-tab">
                    <!-- colappsed-->
                    <div class="collapseCustom">
                      <a class="p-4" data-toggle="collapse" href="#sickness" role="button" aria-expanded="true"
                        aria-controls="collapseExample">
                        <svg class="mr-2" width="15" height="9" viewBox="0 0 15 9" fill="none"
                          xmlns="http://www.w3.org/2000/svg">
                          <path fill-rule="evenodd" clip-rule="evenodd"
                            d="M13.8463 0.18686C13.6309 -0.0417118 13.3006 -0.0417118 13.0852 0.18686L6.99704 6.63257L0.923198 0.171622C0.707814 -0.056949 0.377556 -0.056949 0.162172 0.171622C-0.0532125 0.400193 -0.0532125 0.75067 0.162172 0.979241L6.62371 7.83638C6.8391 8.06496 7.16935 8.06496 7.38474 7.83638L13.8463 0.979241C14.0617 0.765907 14.0617 0.415431 13.8463 0.18686Z"
                            fill="#7D7D7D" />
                        </svg>
                        {{ 'clinicalFile.patientData.tabs.videoChat.info.background.diseases.label' | transloco }}
                      </a>
                      <div class="add float-right" (click)="categoryChangue('sickness')" data-toggle="modal"
                        data-target="#add">
                        <!--Agregar-->
                        {{ 'common.button.add.label' | transloco }}
                        <img src="assets/img/+.svg" />
                      </div>

                      <div class="collapse show" id="sickness" *ngFor="let item of sicknessByProfessional">
                        <ul class="antecedentes">
                          <li class="pl-5">
                            {{ item.value }}
                            <div class="delete" data-toggle="modal" data-target="#eliminar2"
                              (click)="preDelete(item, $event)">
                              <!--(click)="delete(item, $event)" -->
                              <img src="assets/img/delete.svg" />
                            </div>
                          </li>
                        </ul>
                      </div>
                    </div>
                    <!--/colappsed-->

                    <!-- colappsed-->
                    <div class="collapseCustom">
                      <a class="p-4" data-toggle="collapse" href="#allergies" role="button" aria-expanded="false"
                        aria-controls="collapseExample">
                        <svg class="mr-2" width="15" height="9" viewBox="0 0 15 9" fill="none"
                          xmlns="http://www.w3.org/2000/svg">
                          <path fill-rule="evenodd" clip-rule="evenodd"
                            d="M13.8463 0.18686C13.6309 -0.0417118 13.3006 -0.0417118 13.0852 0.18686L6.99704 6.63257L0.923198 0.171622C0.707814 -0.056949 0.377556 -0.056949 0.162172 0.171622C-0.0532125 0.400193 -0.0532125 0.75067 0.162172 0.979241L6.62371 7.83638C6.8391 8.06496 7.16935 8.06496 7.38474 7.83638L13.8463 0.979241C14.0617 0.765907 14.0617 0.415431 13.8463 0.18686Z"
                            fill="#7D7D7D" />
                        </svg>
                        {{ 'clinicalFile.patientData.tabs.videoChat.info.background.allergies.label' | transloco }}
                      </a>
                      <div class="add float-right" data-toggle="modal" (click)="categoryChangue('allergies')"
                        data-target="#add">
                        {{ 'common.button.add.label' | transloco }}
                        <img src="assets/img/+.svg" />
                      </div>
                      <ng-container *ngIf="antecedentesGeneral">
                        <div class="collapse show" id="allergies" *ngFor="let item of allergiesByProfessional">
                          <ul class="antecedentes">
                            <li class="pl-5">
                              {{ item.value }}
                              <div class="delete" data-toggle="modal" data-target="#eliminar2"
                                (click)="preDelete(item, $event)">
                                <img src="assets/img/delete.svg" />
                              </div>
                            </li>
                            <li style="display: none;">A medicamentos tipo C</li>
                          </ul>
                        </div>
                      </ng-container>
                    </div>
                    <!--/colappsed-->

                    <!-- colappsed-->
                    <div class="collapseCustom">
                      <a class="p-4" data-toggle="collapse" href="#surgicalInterventions" role="button"
                        aria-expanded="false" aria-controls="collapseExample">
                        <svg class="mr-2" width="15" height="9" viewBox="0 0 15 9" fill="none"
                          xmlns="http://www.w3.org/2000/svg">
                          <path fill-rule="evenodd" clip-rule="evenodd"
                            d="M13.8463 0.18686C13.6309 -0.0417118 13.3006 -0.0417118 13.0852 0.18686L6.99704 6.63257L0.923198 0.171622C0.707814 -0.056949 0.377556 -0.056949 0.162172 0.171622C-0.0532125 0.400193 -0.0532125 0.75067 0.162172 0.979241L6.62371 7.83638C6.8391 8.06496 7.16935 8.06496 7.38474 7.83638L13.8463 0.979241C14.0617 0.765907 14.0617 0.415431 13.8463 0.18686Z"
                            fill="#7D7D7D" />
                        </svg>
                        {{
                          'clinicalFile.patientData.tabs.videoChat.info.background.surgicalInterventions.label'
                            | transloco
                        }}
                      </a>
                      <div class="add float-right" data-toggle="modal"
                        (click)="categoryChangue('surgicalInterventions')" data-target="#add">
                        {{ 'common.button.add.label' | transloco }}
                        <img src="assets/img/+.svg" />
                      </div>
                      <ng-container *ngIf="antecedentesGeneral">
                        <div class="collapse show" id="surgicalInterventions"
                          *ngFor="let item of surgicalInterventionsByProfessional">
                          <ul class="antecedentes">
                            <li class="pl-5">
                              {{ item.value }}
                              <div class="delete" data-toggle="modal" data-target="#eliminar2"
                                (click)="preDelete(item, $event)">
                                <img src="assets/img/delete.svg" />
                              </div>
                            </li>
                            <li style="display: none;">A medicamentos tipo C</li>
                          </ul>
                        </div>
                      </ng-container>
                    </div>
                    <!--/colappsed-->

                    <!-- colappsed-->
                    <div class="collapseCustom">
                      <a class="p-4" data-toggle="collapse" href="#familiarHistory" role="button" aria-expanded="false"
                        aria-controls="collapseExample">
                        <svg class="mr-2" width="15" height="9" viewBox="0 0 15 9" fill="none"
                          xmlns="http://www.w3.org/2000/svg">
                          <path fill-rule="evenodd" clip-rule="evenodd"
                            d="M13.8463 0.18686C13.6309 -0.0417118 13.3006 -0.0417118 13.0852 0.18686L6.99704 6.63257L0.923198 0.171622C0.707814 -0.056949 0.377556 -0.056949 0.162172 0.171622C-0.0532125 0.400193 -0.0532125 0.75067 0.162172 0.979241L6.62371 7.83638C6.8391 8.06496 7.16935 8.06496 7.38474 7.83638L13.8463 0.979241C14.0617 0.765907 14.0617 0.415431 13.8463 0.18686Z"
                            fill="#7D7D7D" />
                        </svg>
                        {{ 'clinicalFile.patientData.tabs.videoChat.info.background.family.label' | transloco }}
                      </a>
                      <div class="add float-right" data-toggle="modal" (click)="categoryChangue('familiarHistory')"
                        data-target="#add">
                        {{ 'common.button.add.label' | transloco }}
                        <img src="assets/img/+.svg" />
                      </div>
                      <ng-container *ngIf="antecedentesGeneral">
                        <div class="collapse show" id="familiarHistory"
                          *ngFor="let item of familiarHistoryByProfessional">
                          <ul class="antecedentes">
                            <li class="pl-5">
                              {{ item.value }}
                              <div class="delete" data-toggle="modal" data-target="#eliminar2"
                                (click)="preDelete(item, $event)">
                                <img src="assets/img/delete.svg" />
                              </div>
                            </li>
                            <li style="display: none;">A medicamentos tipo C</li>
                          </ul>
                        </div>
                      </ng-container>
                    </div>
                    <!--/colappsed-->

                    <!-- colappsed-->
                    <div class="collapseCustom">
                      <a class="p-4" data-toggle="collapse" href="#healthHabits" role="button" aria-expanded="false"
                        aria-controls="collapseExample">
                        <svg class="mr-2" width="15" height="9" viewBox="0 0 15 9" fill="none"
                          xmlns="http://www.w3.org/2000/svg">
                          <path fill-rule="evenodd" clip-rule="evenodd"
                            d="M13.8463 0.18686C13.6309 -0.0417118 13.3006 -0.0417118 13.0852 0.18686L6.99704 6.63257L0.923198 0.171622C0.707814 -0.056949 0.377556 -0.056949 0.162172 0.171622C-0.0532125 0.400193 -0.0532125 0.75067 0.162172 0.979241L6.62371 7.83638C6.8391 8.06496 7.16935 8.06496 7.38474 7.83638L13.8463 0.979241C14.0617 0.765907 14.0617 0.415431 13.8463 0.18686Z"
                            fill="#7D7D7D" />
                        </svg>
                        {{ 'calendar.healthHabits.label' | transloco }}
                      </a>
                      <div class="add float-right" data-toggle="modal" (click)="categoryChangue('healthHabits')"
                        data-target="#add">
                        {{ 'common.button.add.label' | transloco }}
                        <img src="assets/img/+.svg" />
                      </div>
                      <ng-container *ngIf="antecedentesGeneral">
                        <div class="collapse show" id="healthHabits" *ngFor="let item of healthHabitsByProfessional">
                          <ul class="antecedentes">
                            <li class="pl-5" id="{{ item.id }}">
                              {{ item.value }}
                              <div class="delete" data-toggle="modal" data-target="#eliminar2"
                                (click)="preDelete(item, $event)">
                                <img src="assets/img/delete.svg" />
                              </div>
                            </li>
                            <li style="display: none;">A medicamentos tipo C</li>
                          </ul>
                        </div>
                      </ng-container>
                    </div>
                    <!--/colappsed-->

                    <!-- colappsed-->
                    <div class="collapseCustom">
                      <a class="p-4" data-toggle="collapse" href="#medicines" role="button" aria-expanded="false"
                        aria-controls="collapseExample">
                        <svg class="mr-2" width="15" height="9" viewBox="0 0 15 9" fill="none"
                          xmlns="http://www.w3.org/2000/svg">
                          <path fill-rule="evenodd" clip-rule="evenodd"
                            d="M13.8463 0.18686C13.6309 -0.0417118 13.3006 -0.0417118 13.0852 0.18686L6.99704 6.63257L0.923198 0.171622C0.707814 -0.056949 0.377556 -0.056949 0.162172 0.171622C-0.0532125 0.400193 -0.0532125 0.75067 0.162172 0.979241L6.62371 7.83638C6.8391 8.06496 7.16935 8.06496 7.38474 7.83638L13.8463 0.979241C14.0617 0.765907 14.0617 0.415431 13.8463 0.18686Z"
                            fill="#7D7D7D" />
                        </svg>
                        {{ 'clinicalFile.patientData.tabs.videoChat.info.background.meds.label' | transloco }}
                      </a>
                      <div class="add float-right" data-toggle="modal" (click)="categoryChangue('medicines')"
                        data-target="#add">
                        {{ 'common.button.add.label' | transloco }}
                        <img src="assets/img/+.svg" />
                      </div>
                      <ng-container *ngIf="antecedentesGeneral">
                        <div class="collapse show" id="medicines" *ngFor="let item of medicinesByProfessional">
                          <ul class="antecedentes">
                            <li class="pl-5" id="{{ item.id }}">
                              {{ item.value }}
                              <div class="delete" data-toggle="modal" data-target="#eliminar2"
                                (click)="preDelete(item, $event)">
                                <img src="assets/img/delete.svg" />
                              </div>
                            </li>
                            <li style="display: none;">A medicamentos tipo C</li>
                          </ul>
                        </div>
                      </ng-container>
                    </div>
                    <!--/colappsed-->

                    <!-- colappsed-->
                    <div class="collapseCustom">
                      <a class="p-4" data-toggle="collapse" href="#occupational" role="button" aria-expanded="false"
                        aria-controls="collapseExample">
                        <svg class="mr-2" width="15" height="9" viewBox="0 0 15 9" fill="none"
                          xmlns="http://www.w3.org/2000/svg">
                          <path fill-rule="evenodd" clip-rule="evenodd"
                            d="M13.8463 0.18686C13.6309 -0.0417118 13.3006 -0.0417118 13.0852 0.18686L6.99704 6.63257L0.923198 0.171622C0.707814 -0.056949 0.377556 -0.056949 0.162172 0.171622C-0.0532125 0.400193 -0.0532125 0.75067 0.162172 0.979241L6.62371 7.83638C6.8391 8.06496 7.16935 8.06496 7.38474 7.83638L13.8463 0.979241C14.0617 0.765907 14.0617 0.415431 13.8463 0.18686Z"
                            fill="#7D7D7D" />
                        </svg>
                        {{ 'clinicalFile.patientData.tabs.videoChat.info.background.occupational.label' | transloco }}
                      </a>
                      <div class="add float-right" data-toggle="modal" (click)="categoryChangue('occupational')"
                        data-target="#add">
                        {{ 'common.button.add.label' | transloco }}
                        <img src="assets/img/+.svg" />
                      </div>
                      <ng-container *ngIf="antecedentesGeneral">
                        <div class="collapse show" id="occupational" *ngFor="let item of occupationalByProfessional">
                          <ul class="antecedentes">
                            <li class="pl-5" id="{{ item.id }}">
                              {{ item.value }}
                              <div class="delete" data-toggle="modal" data-target="#eliminar2"
                                (click)="preDelete(item, $event)">
                                <img src="assets/img/delete.svg" />
                              </div>
                            </li>
                          </ul>
                        </div>
                      </ng-container>
                    </div>
                    <!--/colappsed-->

                    <!-- colappsed-->
                    <div class="collapseCustom">
                      <a class="p-4" data-toggle="collapse" href="#others" role="button" aria-expanded="false"
                        aria-controls="collapseExample">
                        <svg class="mr-2" width="15" height="9" viewBox="0 0 15 9" fill="none"
                          xmlns="http://www.w3.org/2000/svg">
                          <path fill-rule="evenodd" clip-rule="evenodd"
                            d="M13.8463 0.18686C13.6309 -0.0417118 13.3006 -0.0417118 13.0852 0.18686L6.99704 6.63257L0.923198 0.171622C0.707814 -0.056949 0.377556 -0.056949 0.162172 0.171622C-0.0532125 0.400193 -0.0532125 0.75067 0.162172 0.979241L6.62371 7.83638C6.8391 8.06496 7.16935 8.06496 7.38474 7.83638L13.8463 0.979241C14.0617 0.765907 14.0617 0.415431 13.8463 0.18686Z"
                            fill="#7D7D7D" />
                        </svg>
                        {{ 'clinicalFile.patientData.tabs.videoChat.info.background.other.label' | transloco }}
                      </a>
                      <div class="add float-right" data-toggle="modal" data-target="#add"
                        (click)="categoryChangue('others')">
                        {{ 'common.button.add.label' | transloco }}
                        <img src="assets/img/+.svg" />
                      </div>
                      <ng-container *ngIf="antecedentesGeneral">
                        <div class="collapse show" id="others" *ngFor="let item of othersByProfessional">
                          <ul class="antecedentes">
                            <li class="pl-5" id="{{ item.id }}">
                              {{ item.value }}
                              <div class="delete" data-toggle="modal" data-target="#eliminar2"
                                (click)="preDelete(item, $event)">
                                <img src="assets/img/delete.svg" />
                              </div>
                            </li>
                            <li style="display: none;">A medicamentos tipo C</li>
                          </ul>
                        </div>
                      </ng-container>
                    </div>
                    <!--/colappsed-->
                  </div>

                  <div class="tab-pane fade p-4" id="contact" role="tabpanel" aria-labelledby="contact-tab">
                    <form [formGroup]="diagnostico">
                      <div class="row">
                        <div class="col-12 mb-3">
                          <div class="form-row">
                            <label for="plan">{{ 'clinicalFile.plan.label' | transloco }}</label>
                            <textarea name="plan" class="form-control" id="plan" rows="5" id="plan"
                              formControlName="plan" [attr.disabled]="permisoGuardar === false ? '' : null">
                            </textarea>
                          </div>
                        </div>
                        <div class="col-6">
                          <label>
                            {{ 'clinicalFile.diagnosisType.label' | transloco }}</label>
                          <select class="form-control" formControlName="type" id="type" name="type"
                            [attr.disabled]="permisoGuardar === false ? '' : null" (change)="typeDiagnostic()">
                            <!--<option value="null" disabled selected>{{ 'common.select.label' | transloco }}</option>-->
                            <option value="cie10" selected>{{ 'cie10.cie10' | transloco}}</option>
                            <option class="d-none" value="snomed">snomed</option>
                          </select>
                        </div>
                        <div class="col-6">
                          <label [className]=" arrayDiagnostic && arrayDiagnostic.length === 0 ? 'error-text' : ''"
                            for="diagnostic">{{
                            'clinicalFile.patientData.tabs.summary.diagnosis.label' | transloco
                          }} *</label>
                          <div class="searchBox2">
                            <input class="form-control mb-3" type="text"
                              placeholder="{{ 'clinicalFile.patientData.tabs.summary.diagnosis.label' | transloco }}"
                              id="diagnostic" name="diagnostic" formControlName="diagnostic" [(ngModel)]="searchInput"
                              [attr.disabled]="permisoGuardar === false ? '' : null"
                              (ngModelChange)="onChangeSearch($event)"
                              [className]=" arrayDiagnostic && arrayDiagnostic.length === 0 ? 'form-control is-invalid' : 'form-control'" />
                            <!-- [attr.disabled]="search === false ? true : null"-->

                            <div class="responseSearch shadow-sm bg-white rounded">
                              <!-- [ngStyle]="{ display: searchDisplay === true ? 'inline-block' : 'none' }"-->
                              <ul>
                                <li *ngIf="spinnerSearch">
                                  <div class="text-center">
                                    <div class="spinner-border" role="status">
                                      <span class="sr-only">Loading...</span>
                                    </div>
                                  </div>
                                </li>
                                <ng-container *ngIf="!spinnerSearch">
                                  <ng-container *ngIf="searchResponse && searchResponse.length > 0; else noSearch">
                                    <li *ngFor="let item of searchResponse" id="{{ item._id }}"
                                      (click)="selectDiagnostico(item)">
                                      {{ item.display }}
                                    </li>
                                  </ng-container>
                                  <ng-template #noSearch>
                                    <li [ngStyle]="{ display: searchDisplay === true ? 'inline-block' : 'none' }">
                                      {{ 'common.withOut' | transloco }}</li>
                                  </ng-template>
                                </ng-container>
                              </ul>
                            </div>

                          </div>
                          <ng-container *ngFor="let item of arrayDiagnostic; trackBy: trackItem">

                           <!--sintoma overflow-hidden-->
                           <div class="sintoma mt-4 mb-3 " id="{{ item._id }}" 
                           [ngClass]="(item.isGES == true || item.isENO == true )?'notify':'noNotify'">
                            <div class="icon">
                              <svg width="25" height="25" viewBox="0 0 25 25" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <path
                                  d="M23.4375 0H14.2708C13.3854 0 12.7083 0.677083 12.7083 1.5625V8.4375C12.7083 9.32292 13.3854 10 14.2708 10H18.3333V20.7292C18.3333 21.1979 17.9167 21.6146 17.4479 21.6146H15.2083V19.0625C15.2083 17.3438 13.8542 15.7812 11.7188 15.1042C10.625 14.7396 9.89583 14.0104 9.89583 13.2292V12.7083C11.0938 11.5625 11.875 9.63542 11.875 7.8125C11.875 5.26042 10.2083 3.59375 7.60417 3.59375C5 3.59375 3.33333 5.26042 3.33333 7.8125C3.33333 9.63542 4.11458 11.5625 5.3125 12.7083V13.2292C5.3125 14.0104 4.58333 14.7396 3.48958 15.1042C1.35417 15.8333 0 17.3958 0 19.1146V24.4792C0 24.7917 0.208333 25 0.520833 25H14.6875C15 25 15.2083 24.7917 15.2083 24.4792V22.7083H17.4479C18.4896 22.7083 19.375 21.8229 19.375 20.7812V10H23.4375C24.3229 10 25 9.32292 25 8.4375V1.5625C25 0.729167 24.3229 0 23.4375 0ZM4.375 7.8125C4.375 5.83333 5.57292 4.63542 7.60417 4.63542C9.63542 4.63542 10.8333 5.83333 10.8333 7.8125C10.8333 9.84375 9.47917 12.6562 7.60417 12.6562C5.72917 12.7083 4.375 9.89583 4.375 7.8125ZM14.1667 21.6667H11.7708C11.4062 21.6667 11.1458 21.4583 10.9896 21.1979C11.6667 20.9375 12.1875 20.2604 12.1875 19.5312C12.1875 18.5417 11.3542 17.7083 10.3646 17.7083C9.375 17.7083 8.54167 18.5417 8.54167 19.5312C8.54167 20.3646 9.11458 21.0417 9.89583 21.25C10.1042 22.0833 10.8854 22.7083 11.7708 22.7083H14.1667V23.9583H1.04167V19.1146C1.04167 17.8646 2.08333 16.6667 3.80208 16.0938C5.3125 15.5729 6.25 14.5833 6.30208 13.3854C6.71875 13.5938 7.13542 13.6979 7.60417 13.6979C8.07292 13.6979 8.48958 13.5938 8.90625 13.3854C9.01042 14.5312 9.94792 15.5729 11.4062 16.0938C13.0729 16.6667 14.1667 17.8125 14.1667 19.1146V21.6667ZM10.3646 20.2604C9.94792 20.2604 9.58333 19.8958 9.58333 19.4792C9.58333 19.0625 9.94792 18.6979 10.3646 18.6979C10.7812 18.6979 11.1458 19.0625 11.1458 19.4792C11.1458 19.8958 10.7812 20.2604 10.3646 20.2604ZM23.9583 8.4375C23.9583 8.75 23.75 8.95833 23.4375 8.95833H14.2708C13.9583 8.95833 13.75 8.75 13.75 8.4375V5.36458H15.0521C15.2083 5.36458 15.3646 5.26042 15.4688 5.15625L16.1458 4.11458L16.9792 7.60417C17.0312 7.8125 17.1875 7.96875 17.3958 8.02083C17.4479 8.02083 17.4479 8.02083 17.5 8.02083C17.6562 8.02083 17.8125 7.91667 17.9167 7.8125L19.1146 6.04167L19.9479 7.13542C20.0521 7.29167 20.2083 7.34375 20.4167 7.34375C20.5729 7.34375 20.7292 7.23958 20.8333 7.08333L21.8229 5.15625H23.9583V8.4375ZM23.9583 4.11458H21.5104C21.3021 4.11458 21.1458 4.21875 21.0417 4.375L20.3125 5.88542L19.5312 4.89583C19.4271 4.73958 19.2708 4.6875 19.1146 4.6875C18.9583 4.6875 18.8021 4.79167 18.6979 4.89583L17.7083 6.25L16.875 2.70833C16.8229 2.5 16.6667 2.34375 16.4583 2.29167C16.25 2.23958 16.0417 2.34375 15.9375 2.5L14.7396 4.32292H13.75V1.5625C13.75 1.25 13.9583 1.04167 14.2708 1.04167H23.4375C23.75 1.04167 23.9583 1.25 23.9583 1.5625V4.11458Z"
                                  fill="#497DF9" />
                              </svg>
                            </div>
                            <div *ngIf="setup === 'CL'" class="boxNotify"  (click)="notify(item)">
                              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-info" viewBox="0 0 16 16">
                                <path d="M8.93 6.588l-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588z"/>
                                <circle cx="8" cy="4.5" r="1"/>
                              </svg>
                            </div>
                            <p class="text-right overflow-hidden">
                            
                              <i (click)="notify(item)">{{ item.display }}</i>
                              <i (click)="deleteDiagnostic(item._id)" style="margin-left: 10px;">
                                <!-- -->
                                <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-trash"
                                  fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                  <path
                                    d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z" />
                                  <path fill-rule="evenodd"
                                    d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4L4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z" />
                                </svg>
                              </i>
                            </p>
                          </div><!--/sintoma-->
                          </ng-container>

                        </div>
                        <div class="col-12 mt-3">
                          <label for="comments">{{ 'clinicalFile.comments.label' | transloco }}</label>
                          <textarea class="form-control" id="comments" name="comments" formControlName="comments"
                            [attr.disabled]="permisoGuardar === false ? '' : null" rows="5"></textarea>
                        </div>
                        <div class="col-12 mt-3">
                          <label for="indications">
                            Indicações
                            <!--
                            {{ 'clinicalFile.comments.label' | transloco }}-->
                          </label>
                          <textarea class="form-control" id="indications" name="indications"
                            formControlName="indications" [attr.disabled]="permisoGuardar === false ? '' : null"
                            rows="5"></textarea>
                        </div>
                        <div class="col-6 mt-3">
                          <label for="destinies">
                            {{ 'clinicalFile.defeche.label' | transloco}} *
                            <!--
                            {{ 'clinicalFile.comments.label' | transloco }}-->
                          </label>
                          <select name="" id="destinies" class="form-control custom-select w-100"
                            (change)="onChange($event.target)" [ngClass]="{
                            'is-invalid': destiniesSelected.length <= 0
                          }">
                            <option selected disabled>
                              {{
                                'clinicalFile.select.label' | transloco
                              }}
                            </option><!--  hola -->
                            <ng-container *ngFor="let item of destinies">
                              <option value="{{ item._id }}">{{ item.name }}</option>
                            </ng-container>
                          </select>
                        </div>
                        <div class="col-6 mt-3">
                          <label for="endBlock">&nbsp;</label>
                          <ng-container *ngFor="let item of destiniesSelected">
                            <!--sintoma-->
                            <div class="sintoma  mb-3" id="{{ item.destinyId }}">
                              <div class="icon">
                                <svg width="25" height="25" viewBox="0 0 25 25" fill="none"
                                  xmlns="http://www.w3.org/2000/svg">
                                  <path
                                    d="M23.4375 0H14.2708C13.3854 0 12.7083 0.677083 12.7083 1.5625V8.4375C12.7083 9.32292 13.3854 10 14.2708 10H18.3333V20.7292C18.3333 21.1979 17.9167 21.6146 17.4479 21.6146H15.2083V19.0625C15.2083 17.3438 13.8542 15.7812 11.7188 15.1042C10.625 14.7396 9.89583 14.0104 9.89583 13.2292V12.7083C11.0938 11.5625 11.875 9.63542 11.875 7.8125C11.875 5.26042 10.2083 3.59375 7.60417 3.59375C5 3.59375 3.33333 5.26042 3.33333 7.8125C3.33333 9.63542 4.11458 11.5625 5.3125 12.7083V13.2292C5.3125 14.0104 4.58333 14.7396 3.48958 15.1042C1.35417 15.8333 0 17.3958 0 19.1146V24.4792C0 24.7917 0.208333 25 0.520833 25H14.6875C15 25 15.2083 24.7917 15.2083 24.4792V22.7083H17.4479C18.4896 22.7083 19.375 21.8229 19.375 20.7812V10H23.4375C24.3229 10 25 9.32292 25 8.4375V1.5625C25 0.729167 24.3229 0 23.4375 0ZM4.375 7.8125C4.375 5.83333 5.57292 4.63542 7.60417 4.63542C9.63542 4.63542 10.8333 5.83333 10.8333 7.8125C10.8333 9.84375 9.47917 12.6562 7.60417 12.6562C5.72917 12.7083 4.375 9.89583 4.375 7.8125ZM14.1667 21.6667H11.7708C11.4062 21.6667 11.1458 21.4583 10.9896 21.1979C11.6667 20.9375 12.1875 20.2604 12.1875 19.5312C12.1875 18.5417 11.3542 17.7083 10.3646 17.7083C9.375 17.7083 8.54167 18.5417 8.54167 19.5312C8.54167 20.3646 9.11458 21.0417 9.89583 21.25C10.1042 22.0833 10.8854 22.7083 11.7708 22.7083H14.1667V23.9583H1.04167V19.1146C1.04167 17.8646 2.08333 16.6667 3.80208 16.0938C5.3125 15.5729 6.25 14.5833 6.30208 13.3854C6.71875 13.5938 7.13542 13.6979 7.60417 13.6979C8.07292 13.6979 8.48958 13.5938 8.90625 13.3854C9.01042 14.5312 9.94792 15.5729 11.4062 16.0938C13.0729 16.6667 14.1667 17.8125 14.1667 19.1146V21.6667ZM10.3646 20.2604C9.94792 20.2604 9.58333 19.8958 9.58333 19.4792C9.58333 19.0625 9.94792 18.6979 10.3646 18.6979C10.7812 18.6979 11.1458 19.0625 11.1458 19.4792C11.1458 19.8958 10.7812 20.2604 10.3646 20.2604ZM23.9583 8.4375C23.9583 8.75 23.75 8.95833 23.4375 8.95833H14.2708C13.9583 8.95833 13.75 8.75 13.75 8.4375V5.36458H15.0521C15.2083 5.36458 15.3646 5.26042 15.4688 5.15625L16.1458 4.11458L16.9792 7.60417C17.0312 7.8125 17.1875 7.96875 17.3958 8.02083C17.4479 8.02083 17.4479 8.02083 17.5 8.02083C17.6562 8.02083 17.8125 7.91667 17.9167 7.8125L19.1146 6.04167L19.9479 7.13542C20.0521 7.29167 20.2083 7.34375 20.4167 7.34375C20.5729 7.34375 20.7292 7.23958 20.8333 7.08333L21.8229 5.15625H23.9583V8.4375ZM23.9583 4.11458H21.5104C21.3021 4.11458 21.1458 4.21875 21.0417 4.375L20.3125 5.88542L19.5312 4.89583C19.4271 4.73958 19.2708 4.6875 19.1146 4.6875C18.9583 4.6875 18.8021 4.79167 18.6979 4.89583L17.7083 6.25L16.875 2.70833C16.8229 2.5 16.6667 2.34375 16.4583 2.29167C16.25 2.23958 16.0417 2.34375 15.9375 2.5L14.7396 4.32292H13.75V1.5625C13.75 1.25 13.9583 1.04167 14.2708 1.04167H23.4375C23.75 1.04167 23.9583 1.25 23.9583 1.5625V4.11458Z"
                                    fill="#497DF9" />
                                </svg>
                              </div>
                              <p class="text-right">
                                {{ item.name }}
                                <i (click)="removeDestiny(item.destinyId)">
                                  <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-trash"
                                    fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                    <path
                                      d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z" />
                                    <path fill-rule="evenodd"
                                      d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4L4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z" />
                                  </svg>
                                </i>
                              </p>
                            </div>
                          </ng-container>
                        </div>
                      </div>
                    </form>
                  </div>
                  <div class="tab-pane fade p-4" id="contact2" role="tabpanel" aria-labelledby="contact-tab2">
                    {{ 'clinicalFile.patientData.tabs.notes.label' | transloco }}:

                    <div class="row mt-2">
                      <ng-container *ngFor="let item of notesArray">
                        <div class="col-6 mb-3">
                          <div class="nota2">{{ item }}</div>
                        </div>
                      </ng-container>
                    </div>
                    <ng-template #noNotes>
                      <div class="alert alert-warning mt-2" role="alert">
                        {{ 'clinicalFile.noStoredNotes.label' | transloco }}
                      </div>
                    </ng-template>

                    <div class="row">
                      <div class="col-12 text-right">
                        <button type="button" class="btn btn-link p-0" [disabled]="!permisoGuardar" data-toggle="modal"
                          (click)="this.notes.reset()" data-target="#ingresarNota">
                          <p class="text-right">
                            {{ 'clinicalFile.newNote.label' | transloco }} <img src="assets/icons/add.svg" />
                          </p>
                        </button>
                      </div>
                    </div>
                  </div>

                  <hr />
                  <div class="row">
                    <div class="col-12">
                      <div class="text-right mb-4 p-2">
                        <button class="btn btn-secondary rounded-pill" (click)="putAppointment(appointmentDetail._id)"
                          data-toggle="modal" data-target="#exampleModal" [disabled]="!permisoGuardar">
                          <!--!permisoGuardar || !diagnostico.valid || arrayDiagnostic && arrayDiagnostic.length === 0-->
                          {{ 'common.button.save.label' | transloco }}
                        </button>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!--/tab-->

        <!--tab-->
        <div class="tab-pane fade" id="antecedentesPacienteTab" role="tabpanel" aria-labelledby="antecedentesPaciente">
          <div class="row">
            <div class="col-12">
              <div class="bg-white rounded-lg p-4">
                <!-- colappsed-->
                <div class="collapseCustom border">
                  <a class="p-4" data-toggle="collapse" href="#sickness" role="button" aria-expanded="false"
                    aria-controls="collapseExample">
                    <svg class="mr-2" width="15" height="9" viewBox="0 0 15 9" fill="none"
                      xmlns="http://www.w3.org/2000/svg">
                      <path fill-rule="evenodd" clip-rule="evenodd"
                        d="M13.8463 0.18686C13.6309 -0.0417118 13.3006 -0.0417118 13.0852 0.18686L6.99704 6.63257L0.923198 0.171622C0.707814 -0.056949 0.377556 -0.056949 0.162172 0.171622C-0.0532125 0.400193 -0.0532125 0.75067 0.162172 0.979241L6.62371 7.83638C6.8391 8.06496 7.16935 8.06496 7.38474 7.83638L13.8463 0.979241C14.0617 0.765907 14.0617 0.415431 13.8463 0.18686Z"
                        fill="#7D7D7D" />
                    </svg>
                    {{ 'clinicalFile.patientData.tabs.videoChat.info.background.diseases.label' | transloco }}
                  </a>

                  <div class="collapse show" id="sickness" *ngFor="let item of antecedentes">
                    <ul class="antecedentes">
                      <li class="pl-5">
                        {{ item.value }}
                      </li>
                      <li style="display: none;">A medicamentos tipo C</li>
                    </ul>
                  </div>
                </div>
                <!--/colappsed-->

                <!-- colappsed-->
                <div class="collapseCustom border">
                  <a class="p-4" data-toggle="collapse" href="#allergies" role="button" aria-expanded="false"
                    aria-controls="collapseExample">
                    <svg class="mr-2" width="15" height="9" viewBox="0 0 15 9" fill="none"
                      xmlns="http://www.w3.org/2000/svg">
                      <path fill-rule="evenodd" clip-rule="evenodd"
                        d="M13.8463 0.18686C13.6309 -0.0417118 13.3006 -0.0417118 13.0852 0.18686L6.99704 6.63257L0.923198 0.171622C0.707814 -0.056949 0.377556 -0.056949 0.162172 0.171622C-0.0532125 0.400193 -0.0532125 0.75067 0.162172 0.979241L6.62371 7.83638C6.8391 8.06496 7.16935 8.06496 7.38474 7.83638L13.8463 0.979241C14.0617 0.765907 14.0617 0.415431 13.8463 0.18686Z"
                        fill="#7D7D7D" />
                    </svg>
                    {{ 'clinicalFile.patientData.tabs.videoChat.info.background.allergies.label' | transloco }}
                  </a>

                  <div class="collapse show" id="allergies" *ngFor="let item of antecedentesGeneral?.allergies">
                    <ul class="antecedentes">
                      <li class="pl-5">
                        {{ item.value }}
                      </li>

                      <li style="display: none;">A medicamentos tipo C</li>
                    </ul>
                  </div>
                </div>
                <!--/colappsed-->
                <!-- colappsed-->
                <div class="collapseCustom border">
                  <a class="p-4" data-toggle="collapse" href="#surgicalInterventions" role="button"
                    aria-expanded="false" aria-controls="collapseExample">
                    <svg class="mr-2" width="15" height="9" viewBox="0 0 15 9" fill="none"
                      xmlns="http://www.w3.org/2000/svg">
                      <path fill-rule="evenodd" clip-rule="evenodd"
                        d="M13.8463 0.18686C13.6309 -0.0417118 13.3006 -0.0417118 13.0852 0.18686L6.99704 6.63257L0.923198 0.171622C0.707814 -0.056949 0.377556 -0.056949 0.162172 0.171622C-0.0532125 0.400193 -0.0532125 0.75067 0.162172 0.979241L6.62371 7.83638C6.8391 8.06496 7.16935 8.06496 7.38474 7.83638L13.8463 0.979241C14.0617 0.765907 14.0617 0.415431 13.8463 0.18686Z"
                        fill="#7D7D7D" />
                    </svg>
                    {{
                      'clinicalFile.patientData.tabs.videoChat.info.background.surgicalInterventions.label' | transloco
                    }}
                  </a>

                  <div class="collapse show" id="surgicalInterventions"
                    *ngFor="let item of antecedentesGeneral?.surgicalInterventions">
                    <ul class="antecedentes">
                      <li class="pl-5">
                        {{ item.value }}
                      </li>

                      <li style="display: none;">A medicamentos tipo C</li>
                    </ul>
                  </div>
                </div>
                <!--/colappsed-->

                <!-- colappsed-->
                <div class="collapseCustom border">
                  <a class="p-4" data-toggle="collapse" href="#familiarHistory" role="button" aria-expanded="false"
                    aria-controls="collapseExample">
                    <svg class="mr-2" width="15" height="9" viewBox="0 0 15 9" fill="none"
                      xmlns="http://www.w3.org/2000/svg">
                      <path fill-rule="evenodd" clip-rule="evenodd"
                        d="M13.8463 0.18686C13.6309 -0.0417118 13.3006 -0.0417118 13.0852 0.18686L6.99704 6.63257L0.923198 0.171622C0.707814 -0.056949 0.377556 -0.056949 0.162172 0.171622C-0.0532125 0.400193 -0.0532125 0.75067 0.162172 0.979241L6.62371 7.83638C6.8391 8.06496 7.16935 8.06496 7.38474 7.83638L13.8463 0.979241C14.0617 0.765907 14.0617 0.415431 13.8463 0.18686Z"
                        fill="#7D7D7D" />
                    </svg>
                    {{ 'clinicalFile.patientData.tabs.patientHistory.familyHistory.label' | transloco }}
                  </a>
                  <ng-container *ngIf="antecedentesGeneral">
                    <div class="collapse show" id="familiarHistory"
                      *ngFor="let item of antecedentesGeneral.familiarHistory">
                      <ul class="antecedentes">
                        <li class="pl-5">
                          {{ item.value }}
                        </li>
                        <li style="display: none;">A medicamentos tipo C</li>
                      </ul>
                    </div>
                  </ng-container>
                </div>
                <!--/colappsed-->

                <!-- colappsed-->
                <div class="collapseCustom border">
                  <a class="p-4" data-toggle="collapse" href="#healthHabits" role="button" aria-expanded="false"
                    aria-controls="collapseExample">
                    <svg class="mr-2" width="15" height="9" viewBox="0 0 15 9" fill="none"
                      xmlns="http://www.w3.org/2000/svg">
                      <path fill-rule="evenodd" clip-rule="evenodd"
                        d="M13.8463 0.18686C13.6309 -0.0417118 13.3006 -0.0417118 13.0852 0.18686L6.99704 6.63257L0.923198 0.171622C0.707814 -0.056949 0.377556 -0.056949 0.162172 0.171622C-0.0532125 0.400193 -0.0532125 0.75067 0.162172 0.979241L6.62371 7.83638C6.8391 8.06496 7.16935 8.06496 7.38474 7.83638L13.8463 0.979241C14.0617 0.765907 14.0617 0.415431 13.8463 0.18686Z"
                        fill="#7D7D7D" />
                    </svg>
                    {{ 'clinicalFile.patientData.tabs.patientHistory.habits.label' | transloco }}
                  </a>

                  <ng-container *ngIf="antecedentesGeneral">
                    <div class="collapse show" id="healthHabits" *ngFor="let item of antecedentesGeneral.healthHabits">
                      <ul class="antecedentes">
                        <li class="pl-5" id="{{ item.id }}">
                          {{ item.value }}
                        </li>
                        <li style="display: none;">A medicamentos tipo C</li>
                      </ul>
                    </div>
                  </ng-container>
                </div>
                <!--/colappsed-->

                <!-- colappsed-->
                <div class="collapseCustom border">
                  <a class="p-4" data-toggle="collapse" href="#medicines" role="button" aria-expanded="false"
                    aria-controls="collapseExample">
                    <svg class="mr-2" width="15" height="9" viewBox="0 0 15 9" fill="none"
                      xmlns="http://www.w3.org/2000/svg">
                      <path fill-rule="evenodd" clip-rule="evenodd"
                        d="M13.8463 0.18686C13.6309 -0.0417118 13.3006 -0.0417118 13.0852 0.18686L6.99704 6.63257L0.923198 0.171622C0.707814 -0.056949 0.377556 -0.056949 0.162172 0.171622C-0.0532125 0.400193 -0.0532125 0.75067 0.162172 0.979241L6.62371 7.83638C6.8391 8.06496 7.16935 8.06496 7.38474 7.83638L13.8463 0.979241C14.0617 0.765907 14.0617 0.415431 13.8463 0.18686Z"
                        fill="#7D7D7D" />
                    </svg>
                    {{ 'clinicalFile.patientData.tabs.videoChat.info.background.meds.label' | transloco }}
                  </a>

                  <ng-container *ngIf="antecedentesGeneral">
                    <div class="collapse show" id="medicines" *ngFor="let item of antecedentesGeneral.medicines">
                      <ul class="antecedentes">
                        <li class="pl-5" id="{{ item.id }}">
                          {{ item.value }}
                        </li>
                        <li style="display: none;">A medicamentos tipo C</li>
                      </ul>
                    </div>
                  </ng-container>
                </div>
                <!--/colappsed-->

                <!-- colappsed-->
                <div class="collapseCustom border">
                  <a class="p-4" data-toggle="collapse" href="#occupational" role="button" aria-expanded="false"
                    aria-controls="collapseExample">
                    <svg class="mr-2" width="15" height="9" viewBox="0 0 15 9" fill="none"
                      xmlns="http://www.w3.org/2000/svg">
                      <path fill-rule="evenodd" clip-rule="evenodd"
                        d="M13.8463 0.18686C13.6309 -0.0417118 13.3006 -0.0417118 13.0852 0.18686L6.99704 6.63257L0.923198 0.171622C0.707814 -0.056949 0.377556 -0.056949 0.162172 0.171622C-0.0532125 0.400193 -0.0532125 0.75067 0.162172 0.979241L6.62371 7.83638C6.8391 8.06496 7.16935 8.06496 7.38474 7.83638L13.8463 0.979241C14.0617 0.765907 14.0617 0.415431 13.8463 0.18686Z"
                        fill="#7D7D7D" />
                    </svg>
                    {{ 'clinicalFile.patientData.tabs.videoChat.info.background.occupational.label' | transloco }}
                  </a>

                  <ng-container *ngIf="antecedentesGeneral">
                    <div class="collapse show" id="occupational" *ngFor="let item of antecedentesGeneral.occupational">
                      <ul class="antecedentes">
                        <li class="pl-5" id="{{ item.id }}">
                          {{ item.value }}
                        </li>
                      </ul>
                    </div>
                  </ng-container>
                </div>
                <!--/colappsed-->

                <!-- colappsed-->
                <div class="collapseCustom border">
                  <a class="p-4" data-toggle="collapse" href="#others" role="button" aria-expanded="false"
                    aria-controls="collapseExample">
                    <svg class="mr-2" width="15" height="9" viewBox="0 0 15 9" fill="none"
                      xmlns="http://www.w3.org/2000/svg">
                      <path fill-rule="evenodd" clip-rule="evenodd"
                        d="M13.8463 0.18686C13.6309 -0.0417118 13.3006 -0.0417118 13.0852 0.18686L6.99704 6.63257L0.923198 0.171622C0.707814 -0.056949 0.377556 -0.056949 0.162172 0.171622C-0.0532125 0.400193 -0.0532125 0.75067 0.162172 0.979241L6.62371 7.83638C6.8391 8.06496 7.16935 8.06496 7.38474 7.83638L13.8463 0.979241C14.0617 0.765907 14.0617 0.415431 13.8463 0.18686Z"
                        fill="#7D7D7D" />
                    </svg>
                    {{ 'clinicalFile.patientData.tabs.videoChat.info.background.other.label' | transloco }}
                  </a>

                  <ng-container *ngIf="antecedentesGeneral">
                    <div class="collapse show" id="others" *ngFor="let item of antecedentesGeneral.others">
                      <ul class="antecedentes">
                        <li class="pl-5" id="{{ item.id }}">
                          {{ item.value }}
                        </li>
                      </ul>
                    </div>
                  </ng-container>
                </div>
                <!--/colappsed-->
              </div>
            </div>
          </div>
        </div>
        <!--/tab-->

        <!--tab-->
        <div class="tab-pane fade" id="examenesDocumentosTab" role="tabpanel" aria-labelledby="examenesDocumentos">
          <div class="row mb-4 align-items-center">
            <div class="col-12">
              <!--<h5 class="mb-0">{{ 'clinicalFile.patientData.tabs.exams.label' | transloco }}</h5>-->
              <button *ngxPermissionsOnly="['AttachFiles:MedicalRecord']" type="button"
                class="btn btn-outline-primary rounded-pill float-right" data-toggle="modal" data-target="#addExamen"
                (click)="resetValue()">
                {{ 'common.button.add.label' | transloco }} documento
              </button>
            </div>
          </div>
          <div class="row">
            <div class="col-12">
              <div class="bg-white p-3 rounded-lg">
                <table class="table mt-3">
                  <thead>
                    <tr>
                      <th scope="col">{{ 'clinicalFile.patientData.tabs.exams.table.doc.label' | transloco }}</th>
                      <th scope="col">{{ 'clinicalFile.patientData.tabs.exams.table.type.label' | transloco }}</th>
                      <th scope="col">{{ 'clinicalFile.patientData.tabs.exams.table.date.label' | transloco }}</th>
                      <th scope="col">{{ 'clinicalFile.patientData.tabs.services.table.action.label' | transloco }}</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr *ngFor="let item of exams">
                      <th scope="row">{{ item.name }}</th>
                      <td>
                        {{ item.type === 'exam' ? 'Examen' : item.type === 'document' ? 'Documento' : 'S/R' }}
                      </td>
                      <td>{{ item.uploadDate | date: 'dd/MM/yyyy':'+0000' }}</td>
                      <td>
                        <a href="{{ downloadUrl }}{{ access_token }}/{{ item.path }}?userId={{ userId }}"
                          target="_blank" download>
                          <button type="button" class="btn btn-outline-primary rounded-pill btn-sm">
                            {{ 'clinicalFile.patientData.tabs.prescriptions.table.btnDownload.label' | transloco }}
                          </button>
                        </a>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>

        <!--tab-->
        <div class="tab-pane fade" id="prescripacionesTab" role="tabpanel" aria-labelledby="prescripaciones">
          <div class="row mb-4 align-items-center">
            <div class="col-6">
              <h5 class="mb-0 d-none">{{ 'clinicalFile.tooltips.documents.prescriptions.label' | transloco }}</h5>
            </div>
            <div class="col-6">
              <!--
              <button class="btn btn-secondary rounded-pill float-right align-middle"
              [disabled]="!permisoGuardar"
              (click)="subirPrescripciones()" data-toggle="modal" data-target="#preescripcionesModal">
                Generar documentos  data-toggle="modal" data-target="#preescripcionesModal"
              </button>-->

              <div class="dropdown">
                <button [disabled]="!permisoGuardar"
                  class="btn btn-secondary rounded-pill float-right align-middle dropdown-toggle" type="button"
                  id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                  {{ 'clinicalFile.generateDocs.label' | transloco }}
                </button>
                <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                  
                  <div *ngIf="setup == 'CL'">
                    <div *ngxPermissionsOnly="['CreatePrescriptions:MedicalRecord']">
                      <a class="dropdown-item" data-toggle="modal" data-target="#modalCreatePrescriptionRecemed">
                        {{ 'clinicalFile.tooltips.documents.prescriptions.label' | transloco }}
                      </a>
                    </div>
                  </div>

                  <div *ngIf="setup == 'CL'">
                    <div *ngxPermissionsOnly="['CreateExamOrders:MedicalRecord']">
                      <a class="dropdown-item" data-toggle="modal" data-target="#modalCreateProcedureRecemed">
                        {{ 'clinicalFile.tooltips.documents.order.label' | transloco }}
                      </a>
                    </div>
                  </div>

                  <div *ngIf="setup == 'CL'">
                    <div *ngxPermissionsOnly="['CreateExamOrders:MedicalRecord']">
                      <a class="dropdown-item" data-toggle="modal" data-target="#modalCreateCertificateRecemed">
                        {{ 'clinicalFile.tooltips.documents.license.label' | transloco }}
                      </a>
                    </div>
                  </div>

                  <div *ngIf="setup == 'CL'">
                    <div *ngxPermissionsOnly="['CreateExamOrders:MedicalRecord']">
                      <a class="dropdown-item" data-toggle="modal" data-target="#modalCreateExamOrderRecemed">
                        {{ 'clinicalFile.tooltips.documents.order.label' | transloco }}
                      </a>
                    </div>
                  </div>
                  
                  <div *ngIf="setup == 'BR'">
                    <a *ngxPermissionsOnly="['CreatePrescriptions:MedicalRecord']" class="dropdown-item"
                    data-toggle="modal" data-target="#preescripcionesModal" href="javascript:;"
                    (click)="subirPrescripciones('prescription')">{{ 'clinicalFile.tooltips.documents.prescriptions.label' | transloco }}</a>
                  <a *ngxPermissionsOnly="['CreateExamOrders:MedicalRecord']" class="dropdown-item" data-toggle="modal"
                    data-target="#preescripcionesModal" (click)="subirPrescripciones('exam-order')"
                    href="javascript:;">{{ 'clinicalFile.tooltips.documents.order.label' | transloco }}</a>
                  <a *ngxPermissionsOnly="['CreateMedicalLicenses:MedicalRecord']" class="dropdown-item"
                    data-toggle="modal" data-target="#preescripcionesModal" (click)="subirPrescripciones('report')"
                    href="javascript:;">{{ 'clinicalFile.tooltips.documents.license.label' | transloco }}</a>
                  </div>

                </div>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-12">
              <div class="bg-white p-3 rounded-lg">
                <table class="table mt-1">
                  <thead class="">
                    <tr>
                      <th scope="col" class="text-center d-none">
                        {{ 'clinicalFile.patientData.tabs.exams.table.doc.label' | transloco }}
                      </th>
                      <th scope="col" class="text-center">
                        {{ 'dashboard.home.config.tabs.specialty.table.type.label' | transloco }}
                      </th>
                      <th scope="col" class="text-center">{{ 'common.uploadDate.label' | transloco }}</th>
                      <th scope="col" class="text-center">
                        {{ 'clinicalFile.patientData.tabs.prescriptions.table.by.label' | transloco }}
                      </th>
                      <th scope="col" class="text-center">{{ 'table.action.label' | transloco }}</th>
                    </tr>
                  </thead>

                  <tbody>
                    <tr *ngFor="let item of arrayDocuments" id="{{ item.documentId }}">
                      <td scope="row" class="text-center d-none">
                        <svg width="21" height="24" viewBox="0 0 21 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                          <path
                            d="M16.6916 2.3669H10.3091C9.95377 1.1359 8.79281 0.19043 7.35625 0.19043C5.91999 0.19043 4.75919 1.1359 4.40336 2.3669H4.24454C2.2743 2.3669 0.744141 3.81621 0.744141 5.63132V20.1404C0.744141 21.9554 2.2743 23.4047 4.24454 23.4047H16.6917C18.662 23.4047 20.1922 21.9554 20.1922 20.1404V5.63132C20.1922 3.81621 18.662 2.3669 16.6916 2.3669ZM18.6362 20.1406C18.6362 21.2661 17.9186 21.9541 16.6917 21.9541H4.24454C3.01764 21.9541 2.29984 21.2659 2.29984 20.1406V5.63132C2.29984 4.50567 3.01764 3.81778 4.24454 3.81778H5.80055V3.0922C5.80055 2.32046 6.51208 1.64131 7.35625 1.64131C8.20042 1.64131 8.91191 2.32046 8.91191 3.0922V3.81778V8.53308C8.91191 9.30497 8.20042 9.98397 7.35625 9.98397C6.51208 9.98397 5.80055 9.30497 5.80055 8.53308V6.67211V5.94666H4.24454V6.67211V8.53323C4.24454 10.114 5.6424 11.435 7.35625 11.435C9.0701 11.435 10.4679 10.114 10.4679 8.53323V3.81778H16.6916C17.9185 3.81778 18.636 4.50581 18.636 5.63132V20.1406H18.6362Z"
                            fill="#A9A9A9" />
                        </svg>
                        <ng-container> {{ item.documentType }} tipo </ng-container>
                      </td>
                      <td class="text-center">
                        <ng-container *ngIf="item.documentType === 'prescription' || item.documentDetails?.type === 'prescription'">
                          {{ 'sibrare.prescription' | transloco}}
                        </ng-container>
                        <ng-container *ngIf="item.documentType === 'report'">
                          {{ 'sibrare.report' | transloco}}
                        </ng-container>
                        <ng-container *ngIf="item.documentType === 'exam-order' || item.documentDetails?.type === 'exam-order'">
                          {{ 'sibrare.exam-order' | transloco}}
                        </ng-container>
                        <!--{{ item.documentType }}-->
                      </td>

                      <td class="text-center" *ngIf="item.uploadDate">
                        {{ item.uploadDate | date: 'dd/MM/yyyy':'+0000' }}
                      </td>
                      <td class="text-center" *ngIf="item.documentDetails?.uploadDate">
                        {{ item.documentDetails.uploadDate | date: 'dd/MM/yyyy':'+0000' }}
                      </td>

                      <td class="text-center" *ngIf="item.issuerDetails">
                        {{ item.issuerDetails.fullName }}
                      </td>
                      <td class="text-center" *ngIf="item.documentDetails?.issuerDetails">
                        {{ item.documentDetails.issuerDetails[0].name }} {{ item.documentDetails.issuerDetails[0].lastName }}
                      </td>

                      <td class="text-center">
                        <a *ngIf="item.documentDetails && item.documentDetails?.path" (click)="goToLink(item.documentDetails?.path)">
                          <button type="button" class="btn btn-outline-primary rounded-pill btn-sm mr-3">
                            {{ 'clinicalFile.patientData.tabs.exams.table.btnView.label' | transloco }}
                          </button>
                        </a>

                        <a (click)="downloadSibrare(item.documentId)" *ngIf="item.documentId">
                          <!-- routerLink="{{urlSibrare}}" target="_blank-->
                          <button type="button" class="btn btn-outline-primary rounded-pill btn-sm mr-3">
                            {{ 'clinicalFile.patientData.tabs.exams.table.btnView.label' | transloco }}
                          </button>
                        </a>
                        <div class="btn-group d-none">
                          <div data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" disabled></div>
                          <div class="dropdown-menu dropdown-menu-right d-none">
                            <button class="dropdown-item" type="button">
                              {{ 'common.button.delete.label' | transloco }}
                            </button>
                            <button data-toggle="modal" data-target="#editar" class="dropdown-item" type="button">
                              {{ 'clinicalFile.edit.label' | transloco }}
                            </button>
                          </div>
                        </div>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
        <!--/tab-->

        <!--tab timeline-->
        <div class="tab-pane fade" id="timelineTab" role="tabpanel" aria-labelledby="timeline">
          <div class="row">
            <div class="col-12">
              <div class="bg-white p-5 rounded-lg text-center">
                <h5 class="mb-0 text-left">{{ 'clinicalFile.patientData.tabs.timeLine.label' | transloco }}</h5>
                <div class="timeLine">
                  <div class="line bg-white">{{ fecha.year }}</div>
                  <div class="line">
                    <button class="btn btn-secondary rounded-lg">
                      {{
                        (fecha.month === 'enero'
                          ? 'year.january.label'
                          : fecha.month === 'febrero'
                          ? 'year.february.label'
                          : fecha.month === 'marzo'
                          ? 'year.march.label'
                          : fecha.month === 'abril'
                          ? 'year.april.label'
                          : fecha.month === 'mayo'
                          ? 'year.may.label'
                          : fecha.month === 'junio'
                          ? 'year.june.label'
                          : fecha.month === 'julio'
                          ? 'year.july.label'
                          : fecha.month === 'agosto'
                          ? 'year.august.label'
                          : fecha.month === 'septiembre'
                          ? 'year.september.label'
                          : fecha.month === 'octubre'
                          ? 'year.october.label'
                          : fecha.month === 'noviembre'
                          ? 'year.november.label'
                          : fecha.month === 'diciembre'
                          ? 'year.december.label'
                          : null
                        ) | transloco
                      }}
                    </button>
                  </div>
                  <ng-container *ngFor="let item of timeline">
                    <div class="line">
                      <div class="row align-items-center">
                        <div class="col-5 text-right p-0">
                          <h3>{{ item.date | date: 'dd' }}</h3>
                          {{ item.startAt }} hrs.
                        </div>
                        <div class="col p-0">
                          <svg width="15" height="15" viewBox="0 0 15 15" fill="none"
                            xmlns="http://www.w3.org/2000/svg">
                            <circle cx="7.5" cy="7.5" r="7.5" fill="#3BC4CA" />
                          </svg>
                        </div>
                        <div class="col-5 text-left p-0">
                          <button class="btn btn-primary dos rounded-lg">
                            {{
                              (fecha.month === 'enero'
                                ? 'year.january.label'
                                : fecha.month === 'febrero'
                                ? 'year.february.label'
                                : fecha.month === 'marzo'
                                ? 'year.march.label'
                                : fecha.month === 'abril'
                                ? 'year.april.label'
                                : fecha.month === 'mayo'
                                ? 'year.may.label'
                                : fecha.month === 'junio'
                                ? 'year.june.label'
                                : fecha.month === 'julio'
                                ? 'year.july.label'
                                : fecha.month === 'agosto'
                                ? 'year.august.label'
                                : fecha.month === 'septiembre'
                                ? 'year.september.label'
                                : fecha.month === 'octubre'
                                ? 'year.october.label'
                                : fecha.month === 'noviembre'
                                ? 'year.november.label'
                                : fecha.month === 'diciembre'
                                ? 'year.december.label'
                                : null
                              ) | transloco
                            }}
                          </button>
                        </div>
                      </div>
                    </div>
                    <div class="line">
                      <div class="row align-items-center">
                        <div class="col-5 text-right p-0">
                          <div class="box">
                            <div class="boxCont text-center">
                              <div class="row">
                                <div class="col-3">
                                  <div class="imgTimeline rounded-circle">
                                    <ng-container *ngIf="item.professional.photo != null; else sinFoto">
                                      <img [src]="item.professional.photo">
                                    </ng-container>
                                    <ng-template #sinFoto>
                                      <img src="assets/profile.jpg">
                                    </ng-template>
                                  </div>
                                </div>
                                <div class="col-9">
                                  <p class="m-0 text-left">{{ 'clinicalFile.apointmentWith.label' | transloco }}</p>
                                  <p class="m-0 text-left">
                                    {{ 'clinicalFile.dr.label' | transloco }} {{ item.professional.name }}
                                    {{ setup =='CL' ? item.professional.lastName : item.professional.secondLastName }}
                                  </p>
                                  <div class="btn btn-primary btn-sm rounded-pill float-left" data-toggle="modal"
                                    data-target="#fichaConsulta" (click)="enviarId(item.id)">
                                   {{'dashboard.home.uncategorized.viewServices.label' | transloco}}
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="col-2 p-0">
                          <svg width="15" height="15" viewBox="0 0 15 15" fill="none"
                            xmlns="http://www.w3.org/2000/svg">
                            <circle cx="7.5" cy="7.5" r="7.5" fill="#3BC4CA" />
                          </svg>
                        </div>
                        <!--
                            <div class="col-5 text-left p-0">
                              <h3>24</h3>
                              12:45 Hrs.
                            </div>-->
                      </div>
                    </div>
                  </ng-container>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!--/tab-->

        <!--tab notifaciones registro GES ENO-->
        <div class="tab-pane fade" id="notasTab" role="tabpanel" aria-labelledby="notas">
          <div class="row">
            <div class="col-6">
              <div class="">

              </div>
            </div>
            <div class="col-6 mb-3">
              <!--
              <button [disabled]="!permisoGuardar" type="button"
                class="btn btn-outline-primary rounded-pill float-right" data-toggle="modal" data-target="#addGesEno"
                (click)="resetValue()">
                {{ 'clinicalFile.tabs.gesEno.button' | transloco }}
              </button>-->
            </div>
          </div>

          <div class="row bg-white p-3 rounded-lg">
            <table class="table mt-1">
              <thead class="">
                <tr>
                  <th scope="col" class="text-center">
                    Fecha y hora
                  </th>
                  <th scope="col" class="text-center">
                    Profesional
                  </th>
                  <th scope="col" class="text-center">
                    Tipo
                  </th>
                  <th scope="col" class="text-center">
                    Código
                  </th>
                  <th scope="col" class="text-center">
                    N° Folio
                  </th>
                  <th scope="col" class="text-center">
                    Observaciones
                  </th>
                </tr>
              </thead>
              <!-- listado de notificaciones ges/eno -->
              <tbody>
                <tr *ngFor="let item of appointmentDetail.appointmentDetails.notifiableDiseases">
                  <td class="text-center">
                    {{ item.updatedAt | date: 'dd/MM/yyyy  HH:mm a' }}
                  </td>
                  <td class="text-center">
                    {{ item.name }}
                  </td>
                  <td class="text-center">
                    <ng-container *ngIf="item.diagnostic.isENO == true && item.diagnostic.isGES == false">
                      ENO
                    </ng-container>
                    <ng-container *ngIf="item.diagnostic.isGES == true && item.diagnostic.isENO == false">
                      GES
                    </ng-container>
                    <ng-container *ngIf="item.diagnostic.isGES == true && item.diagnostic.isENO == true">
                      <ng-container *ngIf="item.isGES == true && item.isENO == false">
                        GES
                      </ng-container>
                      <ng-container *ngIf="item.isGES == false && item.isENO == true">
                        ENO
                      </ng-container>
                    </ng-container>
                    <ng-container *ngIf="item.diagnostic.isGES == false && item.diagnostic.isENO == false">
                      Sin información
                    </ng-container>
                  </td>
                  <td class="text-center">
                      {{item.diagnostic.code}}
                  </td>
                  <td class="text-center">
                    {{item.page}}

                  </td>
                  <td class="text-center">
                    {{item.observations}}
                  </td>
                </tr>
              </tbody>
            </table>
          </div>

        </div>
        <!--/tab-->
      </div>
      <!--/tabs-->
    </div>
  </div>
</ng-container>

<div class="modal fade" tabindex="-1" id="exampleModal">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">{{ 'clinicalFile.updateFile.label' | transloco }}</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <p>{{ 'clinicalFile.saveSuccess.label' | transloco }}</p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-primary rounded-pill" data-dismiss="modal">
          {{ 'clinicalFile.close.label' | transloco }}
        </button>
      </div>
    </div>
  </div>
</div>

<!--ingresar nota-->
<div class="modal fade" tabindex="-1" id="ingresarNota">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">{{ 'common.button.enter.label' | transloco }} nota</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <form [formGroup]="notes">
          <div class="row">
            <div class="form-group col">
              <textarea class="form-control" rows="5" id="notes" name="notes" formControlName="notes"></textarea>
            </div>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <!--<button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>-->
        <button type="button" class="btn btn-primary rounded-pill" data-dismiss="modal"
          (click)="putNotes(appointmentDetail._id)">
          {{ 'common.button.enter.label' | transloco }}
        </button>
      </div>
    </div>
  </div>
</div>

<!--preescricipiones iframe-->
<div class="modal fade" id="preescripcionesModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered modal-xl" style="width: 95% !important; max-width: none;">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title d-none" id="exampleModalLabel">Preescripciones</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <iframe *ngIf="trustedUrl" frameBorder="0" width="100%" height="650" [src]="trustedUrl"></iframe>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary rounded-pill" data-dismiss="modal">
          {{'clinicalFile.close.label' | transloco}}
        </button>
      </div>
    </div>
  </div>
</div>

<!-- Modal antecendetes-->
<div class="modal fade" id="add" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg modal-dialog-centered">
    <div class="modal-content p-3">
      <div class="modal-header text-center">
        <h5 class="modal-title text-center w-100 mt-1 font-weight-bold" id="exampleModalLabel">Agregar Antecedentes</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <form novalidate="">
          <!--[formGroup]="availabilityBlocked" -->
          <div class="row">
            <div class="form-group col">
              <label for="dateBlock">Agregar item</label>
              <input type="text" placeholder="ingrese item" class="form-control" name="modelAntecedente"
                [placeholder]="'dashboard.home.myHealth.categories.'+category+'.label' | transloco" id="test"
                [(ngModel)]="modelAntecedente" [ngModelOptions]="{ standalone: true }" />
            </div>
          </div>
        </form>
      </div>
      <div class="modal-footer text-center justify-content-center">
        <button type="button" class="btn btn-secondary rounded-pill" data-dismiss="modal">cancelar</button>
        <button type="button" class="btn btn-primary rounded-pill" data-dismiss="modal" (click)="add(category)">
          Agregar
        </button>
      </div>
    </div>
  </div>
</div>

<!-- Modal eliminar antecedente-->
<div class="modal fade" id="eliminar" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
  aria-hidden="true">
  <div class="modal-dialog modal-lg modal-dialog-centered">
    <div class="modal-content p-3">
      <div class="modal-header text-center">
        <h5 class="modal-title text-center w-100 mt-1 font-weight-bold" id="exampleModalLabel">
          ¿Deseas eliminar este elemento?
        </h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <form novalidate="">
          <!--[formGroup]="availabilityBlocked" -->
          <div class="row">
            <div class="form-group col">
              <h5 class="text-center w-100">{{ elemntoValue }}</h5>
            </div>
          </div>
        </form>
      </div>
      <div class="modal-footer text-center justify-content-center">
        <button type="button" class="btn btn-outline-secondary rounded-pill" data-dismiss="modal">cancelar</button>
        <button type="button" class="btn btn-danger rounded-pill" data-dismiss="modal" (click)="delete()">
          {{'common.button.delete.label' | transloco}}
        </button>
      </div>
    </div>
  </div>
</div>

<!-- Modal eliminar antecedente-->
<div class="modal fade" id="eliminar2" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
  aria-hidden="true">
  <div class="modal-dialog modal-lg modal-dialog-centered">
    <div class="modal-content p-3">
      <div class="modal-header text-center">
        <h5 class="modal-title text-center w-100 mt-1 font-weight-bold" id="exampleModalLabel">
          ¿Deseas eliminar este elemento?
        </h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <form novalidate="">
          <!--[formGroup]="availabilityBlocked" -->
          <div class="row">
            <div class="form-group col">
              <h5 class="text-center w-100">{{ elemntoValue }}</h5>
            </div>
          </div>
        </form>
      </div>
      <div class="modal-footer text-center justify-content-center">
        <button type="button" class="btn btn-outline-secondary rounded-pill" data-dismiss="modal">cancelar</button>
        <button type="button" class="btn btn-danger rounded-pill" data-dismiss="modal" (click)="deleteByProfessional()">
          {{'clinicalFile.delete.label' | transloco}}
        </button>
      </div>
    </div>
  </div>
</div>

<!--ver fichas historal-->
<div class="modal fade" id="fichaConsulta" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered modal-xl modal-dialog-scrollable">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title d-none" id="exampleModalLabel">Ficha consulta</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="clearId()">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <app-ficha-historial *ngIf="idConsulta" [idConsulta]="idConsulta"></app-ficha-historial>
        <!--<iframe *ngIf="trustedUrl" frameBorder="0" width="100%" height="650" [src]="trustedUrl"></iframe>-->
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary rounded-pill" data-dismiss="modal" (click)="clearId()">
          {{'clinicalFile.close.label' | transloco}}
        </button>
      </div>
    </div>
  </div>
</div>

<!-- Modal subir documentos-->
<div class="modal fade" id="addExamen" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
  aria-hidden="true">
  <div class="modal-dialog modal-lg modal-dialog-centered">
    <div class="modal-content p-3">
      <div class="modal-header text-center">
        <h5 class="modal-title text-center w-100 mt-1 font-weight-bold" id="exampleModalLabel">
          {{ 'common.button.add.label' | transloco }} {{ 'clinicalFile.patientData.tabs.exams.label' | transloco }}
        </h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="refreshData()">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <form [formGroup]="addExamen" novalidate="">
          <!-- -->
          <div class="row">
            <div class="form-group col">
              <label for="type">{{ 'clinicalFile.patientData.tabs.exams.table.type.label' | transloco }}</label>
              <select class="form-control" name="type" id="type" formControlName="type">
                <option [value]="null">- Seleccionar -</option>
                <option value="exam">Examen</option>
                <option value="document">Documento</option>
              </select>
            </div>
            <div class="form-group col">
              <label for="dateBlock">{{ 'clinicalFile.loadDocument.label' | transloco }}</label>
              <div class="custom-file">
                <input type="file" class="custom-file-input" (change)="openFile($event)" id="customFile"
                  accept=".xls, .xlsx, .csv, .pdf, .doc, .docx, .jpg, .png, .jpeg, .mp4, .mov, .txt, .zip, .rar, .ppt, .pptx, .mp3"
                  style="overflow: hidden;" />
                <label class="custom-file-label" for="customFile">{{ textInputFile }}</label>
              </div>
            </div>
          </div>
        </form>
      </div>
      <div class="modal-footer text-center justify-content-center">
        <button type="button" class="btn btn-secondary rounded-pill" data-dismiss="modal">
          {{ 'common.button.cancel.label' | transloco }}
        </button>
        <button type="button" class="btn btn-primary rounded-pill" data-dismiss="modal" (click)="addExamenPost()">
          {{ 'common.button.add.label' | transloco }}
        </button>
      </div>
    </div>
  </div>
</div>



<!-- Modal consulta notificacion ges
<div class="modal fade" id="addNotificationGesEno" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
  aria-hidden="true">
  <div class="modal-dialog modal-lg modal-dialog-centered modal-dialog-scrollable">
    <div class="modal-content p-3">
      <div class="modal-header text-center">
        <h5 class="modal-title text-center w-100 mt-1 font-weight-bold" id="exampleModalLabel">Notificación GES/ENO</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div>
          <p>Este diagnóstico se encuentra en la lista de enfermedades de notificación GES, por lo que puede ser
            necesario que usted lo notifique. ¿Entendido?</p>
        </div>

      </div>
      <div class="modal-footer text-center justify-content-center">
        <button type="button" class="btn btn-secondary rounded-pill" data-dismiss="modal"  (click)="refreshData()">
          No
        </button>
        <button type="button" class="btn btn-primary rounded-pill" data-dismiss="modal" (click)="nextStep('ges')">
          Si
        </button>
      </div>
    </div>
  </div>
</div>-->

<!-- Modal consulta notificacion eno-->
<div class="modal fade" id="addNotificationEno" tabindex="-6" role="dialog" aria-labelledby="exampleModalLabel"
  aria-hidden="true">
  <div class="modal-dialog modal-lg modal-dialog-centered modal-dialog-scrollable">
    <div class="modal-content p-3">
      <div class="modal-header text-center">
        <h5 class="modal-title text-center w-100 mt-1 font-weight-bold" id="exampleModalLabel">Notificación ENO</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="refreshData()">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div>
          <p>
            Este diagnóstico se encuentra en la lista de enfermedades de notificación ENO. ¿Desea notificar?
          </p>
        </div>

      </div>
      <div class="modal-footer text-center justify-content-center">
        <!--<button type="button" class="btn btn-secondary rounded-pill" data-dismiss="modal">cancelar</button>-->
        <button type="button" class="btn btn-secondary rounded-pill" data-dismiss="modal"  (click)="refreshData()">
          No
        </button>
        <ng-container *ngIf="multi == true; noMultiEno">
          <button type="button" class="btn btn-primary rounded-pill" data-dismiss="modal" (click)="multiEno = true" 
          (click)="nextStep('eno')" 
          
          >
            Si
          </button>
        </ng-container>

        <ng-container *ngIf="multi == false;">
          <button type="button" class="btn btn-primary rounded-pill" data-dismiss="modal" (click)="nextStep('eno')">
            Si
          </button>
        </ng-container>
     
      </div>
    </div>
  </div>
</div>

<!-- Modal consulta notificacion ges-->
<div class="modal fade" id="addNotificationGes" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
  aria-hidden="true">
  <div class="modal-dialog modal-lg modal-dialog-centered modal-dialog-scrollable">
    <div class="modal-content p-3">
      <div class="modal-header text-center">
        <h5 class="modal-title text-center w-100 mt-1 font-weight-bold" id="exampleModalLabel">Notificación GES</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="refreshData()">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div>
          <p>Este diagnóstico se encuentra en la lista de enfermedades de notificación GES, por lo que puede ser
            necesario que usted lo notifique. ¿Entendido?</p>
        </div>

      </div>
      <div class="modal-footer text-center justify-content-center">
        <button type="button" class="btn btn-secondary rounded-pill" data-dismiss="modal" (click)="refreshData()">
          No
        </button>
        <ng-container *ngIf="multi == true; noMultiGes">
          <button type="button" class="btn btn-primary rounded-pill" data-dismiss="modal" (click)="multiGes = true" 
          (click)="nextStep('ges')" 
          
          >
            Si
          </button>
        </ng-container>
        <ng-container *ngIf="multi == false;">
          <button type="button" class="btn btn-primary rounded-pill" data-dismiss="modal" (click)="nextStep('ges')">
            Si
          </button>
        </ng-container>
       
     
      </div>
    </div>
  </div>
</div>

<!-- Modal registros GES/ENO-->
<div class="modal fade" id="addGesEno" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
  aria-hidden="true">
  <div class="modal-dialog modal-lg modal-dialog-centered modal-dialog-scrollable">
    <div class="modal-content p-3">
      <div class="modal-header text-center">
        <h5 class="modal-title text-center w-100 mt-1 font-weight-bold" id="titlelabelgeseno">
          Registro notificacion Ges - Eno
        </h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="refreshData()">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <form [formGroup]="formAddGesEno" novalidate="">
          <!-- -->
          <div class="row">
            <div class="form-group col-12">

              <label id="w-100" [className]=" arrayDiagnostic && arrayDiagnostic.length === 0 ? 'error-text' : ''"
                for="diagnostic">{{
                  'clinicalFile.patientData.tabs.summary.diagnosis.label' | transloco
                }} *
              </label>
              <!--
              <div class="searchBox2" id="searchModal">
                <input class="form-control mb-3" type="text"
                  placeholder="{{ 'clinicalFile.patientData.tabs.summary.diagnosis.label' | transloco }}"
                  id="diagnostics" name="diagnostic" formControlName="diagnostic" 
                  [attr.disabled]="permisoGuardar === false ? '' : null" (ngModelChange)="onChangeSearch($event)"
                  [className]=" arrayDiagnostic && arrayDiagnostic.length === 0 ? 'form-control is-invalid' : 'form-control'" />
               [attr.disabled]="search === false ? true : null"
                <div class="responseSearch shadow-sm bg-white rounded">
            
                  <ul>
                    <li *ngIf="spinnerSearch">
                      <div class="text-center">
                        <div class="spinner-border" role="status">
                          <span class="sr-only">Loading...</span>
                        </div>
                      </div>
                    </li>
                    <ng-container *ngIf="!spinnerSearch">
                      <ng-container *ngIf="searchResponse?.length; else noSearch">
                        <li *ngFor="let item of searchResponse" id="{{ item._id }}" 
                        (click)="selectDiagnostico(item)" (click)="searchInModalHide()">
                          {{ item.display }}
                        </li>
                      </ng-container>
                      <ng-template #noSearch>
                        <li [ngStyle]="{ display: searchDisplay === true ? 'inline-block' : 'none' }">
                          {{ 'common.withOut' | transloco }}
                        </li>
                      </ng-template>
                    </ng-container>
                  </ul>
                </div>
              </div> -->
              <!--<div class="buscarModalBtn">
                <button type="button" class="btn btn-primary" (click)="searchInModal()">buscar</button>
              </div>-->

              <ng-container *ngIf="objectDiagnostic">

            
                <div class="sintoma mt-4 mb-3 overflow-hidden" id="{{ objectDiagnostic._id }}">
                  <div class="icon">
                    <svg width="25" height="25" viewBox="0 0 25 25" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path
                        d="M23.4375 0H14.2708C13.3854 0 12.7083 0.677083 12.7083 1.5625V8.4375C12.7083 9.32292 13.3854 10 14.2708 10H18.3333V20.7292C18.3333 21.1979 17.9167 21.6146 17.4479 21.6146H15.2083V19.0625C15.2083 17.3438 13.8542 15.7812 11.7188 15.1042C10.625 14.7396 9.89583 14.0104 9.89583 13.2292V12.7083C11.0938 11.5625 11.875 9.63542 11.875 7.8125C11.875 5.26042 10.2083 3.59375 7.60417 3.59375C5 3.59375 3.33333 5.26042 3.33333 7.8125C3.33333 9.63542 4.11458 11.5625 5.3125 12.7083V13.2292C5.3125 14.0104 4.58333 14.7396 3.48958 15.1042C1.35417 15.8333 0 17.3958 0 19.1146V24.4792C0 24.7917 0.208333 25 0.520833 25H14.6875C15 25 15.2083 24.7917 15.2083 24.4792V22.7083H17.4479C18.4896 22.7083 19.375 21.8229 19.375 20.7812V10H23.4375C24.3229 10 25 9.32292 25 8.4375V1.5625C25 0.729167 24.3229 0 23.4375 0ZM4.375 7.8125C4.375 5.83333 5.57292 4.63542 7.60417 4.63542C9.63542 4.63542 10.8333 5.83333 10.8333 7.8125C10.8333 9.84375 9.47917 12.6562 7.60417 12.6562C5.72917 12.7083 4.375 9.89583 4.375 7.8125ZM14.1667 21.6667H11.7708C11.4062 21.6667 11.1458 21.4583 10.9896 21.1979C11.6667 20.9375 12.1875 20.2604 12.1875 19.5312C12.1875 18.5417 11.3542 17.7083 10.3646 17.7083C9.375 17.7083 8.54167 18.5417 8.54167 19.5312C8.54167 20.3646 9.11458 21.0417 9.89583 21.25C10.1042 22.0833 10.8854 22.7083 11.7708 22.7083H14.1667V23.9583H1.04167V19.1146C1.04167 17.8646 2.08333 16.6667 3.80208 16.0938C5.3125 15.5729 6.25 14.5833 6.30208 13.3854C6.71875 13.5938 7.13542 13.6979 7.60417 13.6979C8.07292 13.6979 8.48958 13.5938 8.90625 13.3854C9.01042 14.5312 9.94792 15.5729 11.4062 16.0938C13.0729 16.6667 14.1667 17.8125 14.1667 19.1146V21.6667ZM10.3646 20.2604C9.94792 20.2604 9.58333 19.8958 9.58333 19.4792C9.58333 19.0625 9.94792 18.6979 10.3646 18.6979C10.7812 18.6979 11.1458 19.0625 11.1458 19.4792C11.1458 19.8958 10.7812 20.2604 10.3646 20.2604ZM23.9583 8.4375C23.9583 8.75 23.75 8.95833 23.4375 8.95833H14.2708C13.9583 8.95833 13.75 8.75 13.75 8.4375V5.36458H15.0521C15.2083 5.36458 15.3646 5.26042 15.4688 5.15625L16.1458 4.11458L16.9792 7.60417C17.0312 7.8125 17.1875 7.96875 17.3958 8.02083C17.4479 8.02083 17.4479 8.02083 17.5 8.02083C17.6562 8.02083 17.8125 7.91667 17.9167 7.8125L19.1146 6.04167L19.9479 7.13542C20.0521 7.29167 20.2083 7.34375 20.4167 7.34375C20.5729 7.34375 20.7292 7.23958 20.8333 7.08333L21.8229 5.15625H23.9583V8.4375ZM23.9583 4.11458H21.5104C21.3021 4.11458 21.1458 4.21875 21.0417 4.375L20.3125 5.88542L19.5312 4.89583C19.4271 4.73958 19.2708 4.6875 19.1146 4.6875C18.9583 4.6875 18.8021 4.79167 18.6979 4.89583L17.7083 6.25L16.875 2.70833C16.8229 2.5 16.6667 2.34375 16.4583 2.29167C16.25 2.23958 16.0417 2.34375 15.9375 2.5L14.7396 4.32292H13.75V1.5625C13.75 1.25 13.9583 1.04167 14.2708 1.04167H23.4375C23.75 1.04167 23.9583 1.25 23.9583 1.5625V4.11458Z"
                        fill="#497DF9" />
                    </svg>
                  </div>
                  <p class="text-right overflow-hidden">
                    <i>{{ objectDiagnostic.display }}</i>
                  </p>
                </div>

              </ng-container><!---->
            </div>

            <!--
            <div class="form-group col-12" *ngIf="multi == true">
              <label for="type">Tipo de notificacion</label>
              <select class="form-control" name="type" id="type" formControlName="type">
                <option [value]="null">- Seleccionar -</option>
                <option value="ges">GES</option>
                <option value="eno">ENO</option>
              </select>
            </div>-->

            <div class="form-group col-12">
              <label for="page">N° Folio</label>
              <input class="form-control" type="text" id="page" name="page" formControlName="page">
            </div>

            <div class="form-group col-12">
              <label for="observations">Observación</label>
              <textarea class="form-control" rows="5" name="observations" formControlName="observations"></textarea>
            </div>

          </div>
        </form>

      </div>
      <div class="modal-footer text-center justify-content-center">
        <button type="button" class="btn btn-secondary rounded-pill" data-dismiss="modal">
          {{ 'common.button.cancel.label' | transloco }}
        </button>
        <ng-container *ngIf="multi == true; noMulti">
          <button type="button" class="btn btn-primary rounded-pill" data-dismiss="modal" (click)="addRegistryGesEno2()">
            Registrar
          </button>
        </ng-container>

        <ng-container *ngIf="multi == false;">
          <button type="button" class="btn btn-primary rounded-pill" data-dismiss="modal" (click)="addRegistryGesEno2()">
            Registrar
          </button>
        </ng-container>
      </div>
    </div>
  </div>
</div>


<ngx-spinner bdColor="rgba(0, 0, 0, 0.5)" type="line-scale" size="default" color="#fff">
  <!-- <p style="color: white" > cargando...</p> -->
</ngx-spinner>

<modal-recemed-prescription #modalCreatePrescriptionRecemed (saved)="refreshData()"></modal-recemed-prescription>
<modal-recemed-procedure #modalCreateProcedureRecemed></modal-recemed-procedure>
<modal-recemed-certificate #modalCreateCertificateRecemed></modal-recemed-certificate>
<modal-recemed-examorder #modalCreateExamOrderRecemed></modal-recemed-examorder>