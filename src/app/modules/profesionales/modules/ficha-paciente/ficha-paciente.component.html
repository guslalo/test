<div class="container-fluid">
  <div class="row">
    <div class="col-9 col-md-9">
      <h2>Ficha Paciente</h2>
    </div>
    <div class="col-3 col-md-3">
      <button type="button" class="btn btn-primary rounded-pill float-right">
        Nueva Consulta
      </button>

      <a href="javascript:history.back()" class="back float-right align-top mr-3">
        <svg
          width="2em"
          height="2em"
          viewBox="0 0 16 16"
          class="bi bi-arrow-left-circle"
          fill="currentColor"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path fill-rule="evenodd" d="M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z" />
          <path
            fill-rule="evenodd"
            d="M8.354 11.354a.5.5 0 0 0 0-.708L5.707 8l2.647-2.646a.5.5 0 1 0-.708-.708l-3 3a.5.5 0 0 0 0 .708l3 3a.5.5 0 0 0 .708 0z"
          />
          <path fill-rule="evenodd" d="M11.5 8a.5.5 0 0 0-.5-.5H6a.5.5 0 0 0 0 1h5a.5.5 0 0 0 .5-.5z" />
        </svg>
      </a>
    </div>
  </div>

  <div class="row">
    <div class="col-12">
      <!--nav-tabs-->
      <div class="row">
        <div class="col-12 mb-2">
          <ul class="nav nav-tabs" id="myTab" role="tablist">
            <li class="nav-item" role="presentation">
              <a
                class="nav-link active"
                id="datosPaciente"
                data-toggle="tab"
                href="#datosPacienteTab"
                role="tab"
                aria-controls="datosPaciente"
              >
                Datos Paciente
              </a>
            </li>
            <li class="nav-item" role="presentation">
              <a
                class="nav-link"
                id="consultasPaciente"
                data-toggle="tab"
                href="#consultasPacienteTab"
                role="tab"
                aria-controls="consultasPaciente"
              >
                Consultas
              </a>
            </li>
            <li class="nav-item" role="presentation">
              <a
                class="nav-link"
                id="profile-tab2"
                data-toggle="tab"
                href="#antecedentesTab"
                role="tab"
                aria-controls="examenesDocumentos"
                aria-selected="false"
              >
                Antecedentes
              </a>
            </li>
            <li class="nav-item" role="presentation">
              <a
                class="nav-link"
                id="profile-tab3"
                data-toggle="tab"
                href="#prescripacionesTab"
                role="tab"
                aria-controls="prescripaciones"
                aria-selected="false"
              >
                Exámenes y Documentos
              </a>
            </li>
            <li class="nav-item" role="presentation">
              <a
                class="nav-link"
                id="profile-tab"
                data-toggle="tab"
                href="#notasTab"
                role="tab"
                aria-controls="notas"
                aria-selected="false"
              >
                Prescripciones
              </a>
            </li>
            <li class="nav-item" role="presentation">
              <a
                class="nav-link"
                id="profile-tab"
                data-toggle="tab"
                href="#timelineTab"
                role="tab"
                aria-controls="timeline"
                aria-selected="false"
              >
                Timeline de Consultas
              </a>
            </li>
          </ul>
        </div>
      </div>
      <!--/nav-tabs-->

      <!--tabs-->
      <div class="tab-content w-100 mt-3" id="myTabContent">
        <!-- DATOS PACIENTE -->
        <div
          class="tab-pane fade show active pt-2"
          id="datosPacienteTab"
          role="tabpanel"
          aria-labelledby="datosPaciente"
        >
          <div class="row">
            <!--bg-white rounded-lg-->
            <div class="col-12">
              <div class="alert alert-primary" role="alert">
                Los datos de este paciente están al 30%, envíale un correo recordatorio para que complete sus datos
                <button class="btn btn-outline-secondary btn-sm rounded-pill">
                  Enviar recordatorio
                </button>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-4">
              <div class="bg-white rounded-lg p-4 shadow-sm">
                <div class="img text-center">
                  <img src="assets/perfil.png" />
                </div>
                <h4 class="text-center mt-2">
                  {{ patientRecord.personalData?.name }} <br />
                  {{ patientRecord.personalData?.lastName || '' }}
                </h4>
                <ul class="paciente pl-0">
                  <li>
                    <i class="b">Sexo</i>
                    {{
                      patientRecord.personalData?.gender === 'male'
                        ? 'Masculino'
                        : patientRecord.personalData?.gender === 'female'
                        ? 'Femenino'
                        : 'S/R'
                    }}
                  </li>
                  <li>
                    <i class="b">Edad</i>
                    {{ moment().diff(patientRecord.personalData?.birthdate, 'year') }}
                  </li>
                  <li>
                    <i class="b">Teléfono</i>
                    {{ patientRecord.personalData?.phoneNumber || 'S/R' }}
                  </li>
                  <li>
                    <i class="b">Email</i>
                    {{ patientRecord.personalData?.email || 'S/R' }}
                  </li>
                  <li>
                    <i class="b">Estado</i>
                    <button type="button" class="btn btn-primary mt-1 rounded-pill btn-sm">
                      {{ patientRecord?.status }}
                    </button>
                  </li>
                </ul>
              </div>
            </div>
            <div class="col-8">
              <div class="bg-white rounded-lg p-4 shadow-sm mb-4">
                <h4 class="title mb-3">
                  Datos de Nacimiento
                </h4>
                <ul class="datos">
                  <li>
                    <i>Tipo de documento</i>
                    {{ identification.type?.toUpperCase() || 'S/R' }}
                  </li>
                  <li>
                    <i>Nº de documento</i>
                    {{ identification?.value || 'S/R' }}
                  </li>
                  <li>
                    <i>Municipio de Nacimiento</i>
                    {{ cityMap[patientRecord.personalData?.municipalityBirth]?.name || 'S/R' }}
                  </li>
                  <li>
                    <i>Nacionalidad</i>
                    {{ patientRecord.personalData?.nacionality || 'S/R' }}
                  </li>
                  <li>
                    <i>UF de nacimiento</i>
                    {{ ufMap[patientRecord.personalData?.ufBirth]?.name || 'S/R' }}
                  </li>
                </ul>
              </div>

              <div class="bg-white rounded-lg p-4 shadow-sm">
                <h4 class="title mb-3">
                  Datos de Dirección
                </h4>
                <ul class="datos">
                  <li>
                    <i>Estado</i>
                    {{ ufMap[patientRecord.addressData?.uf]?.name || 'S/R' }}
                  </li>
                  <li>
                    <i>Ciudad</i>
                    {{ cityMap[patientRecord.addressData?.city]?.name || 'S/R' }}
                  </li>
                  <li>
                    <i>Dirección</i>
                    {{
                      patientRecord.addressData?.neighborhood +
                        ', ' +
                        patientRecord.addressData?.street +
                        ' #' +
                        patientRecord.addressData?.streetNumber || 'S/R'
                    }}
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>
        <!--/tab-->

        <!-- CONSULTAS -->
        <div class="tab-pane fade" id="consultasPacienteTab" role="tabpanel" aria-labelledby="consultasPaciente">
          <div class="row mt-2">
            <div class="col-12 col-md-3">
              <input id="typeahead-basic" type="text" class="form-control" placeholder="Busqueda" />
              <div class="searchBox">
                <svg
                  width="1em"
                  height="1em"
                  viewBox="0 0 16 16"
                  class="bi bi-search"
                  fill="currentColor"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    fill-rule="evenodd"
                    d="M10.442 10.442a1 1 0 0 1 1.415 0l3.85 3.85a1 1 0 0 1-1.414 1.415l-3.85-3.85a1 1 0 0 1 0-1.415z"
                  />
                  <path
                    fill-rule="evenodd"
                    d="M6.5 12a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11zM13 6.5a6.5 6.5 0 1 1-13 0 6.5 6.5 0 0 1 13 0z"
                  />
                </svg>
              </div>
            </div>
            <div class="col-12 col-md-3">
              <div class="form-group">
                <select class="form-control" id="exampleFormControlSelect1">
                  <option>Filtrar por Estado</option>
                  <option>2</option>
                  <option>3</option>
                  <option>4</option>
                  <option>5</option>
                </select>
              </div>
            </div>
            <div class="col-12 col-md-2">
              <input
                class="form-control"
                class="form-control"
                type="text"
                placeholder="yyyy-mm-dd"
                id="endDate"
                name="endDate"
                [minDate]="{ year: 1940, month: 1, day: 1 }"
                ngbDatepicker
                #e="ngbDatepicker"
                (click)="e.toggle()"
              />
            </div>
            <div class="col-12 col-md-4">
              <div class="custom-control custom-checkbox">
                <input type="checkbox" class="custom-control-input custom-control-inline" id="customCheck1" />
                <label class="custom-control-label" for="customCheck1">Mis consultas</label>
              </div>
              <div class="custom-control custom-checkbox custom-control-inline">
                <input type="checkbox" class="custom-control-input" id="customCheckss2" />
                <label class="custom-control-label" for="customCheckss2">Todas las consultas</label>
              </div>
            </div>
          </div>

          <div class="tableBox rounded p-4 bg-white">
            <ngx-datatable
              *ngIf="appointmentsRecord.length"
              class="material"
              [rows]="appointmentsRecord"
              headerHeight="auto"
              footerHeight="auto"
              rowHeight="70"
              [columnMode]="ColumnMode.flex"
              [limit]="10"
              [selectAllRowsOnPage]="true"
            >
              <ngx-datatable-column [resizeable]="false" [flexGrow]="1" name="ID">
                <ng-template let-row="row" ngx-datatable-cell-template>
                  <span>{{
                    row.patientDetails.patientId[0].identificationData.cpf ||
                      row.patientDetails.patientId[0].identificationData.cns ||
                      row.patientDetails.patientId[0].identificationData.rgRegistry ||
                      row.patientDetails.patientId[0].identificationData.passport
                  }}</span>
                </ng-template>
              </ngx-datatable-column>
              <ngx-datatable-column [resizeable]="false" [flexGrow]="3" name="Paciente">
                <ng-template let-row="row" ngx-datatable-cell-template>
                  <img class="mr-2" id="image0" width="38" height="38" src="/assets/perfil.png" alt="img" />
                  {{
                    row.patientDetails.userDetails[0].name +
                      ' ' +
                      (row.patientDetails.userDetails[0].secondLastName || row.patientDetails.userDetails[0].lastName)
                  }}
                </ng-template>
              </ngx-datatable-column>
              <ngx-datatable-column [resizeable]="false" [flexGrow]="3" name="Profesional">
                <ng-template let-row="row" ngx-datatable-cell-template>
                  <img class="mr-2" id="image0" width="38" height="38" src="/assets/perfil.png" alt="img" />
                  {{
                    row.professionalDetails.userDetails[0].name +
                      ' ' +
                      (row.professionalDetails.userDetails[0].secondLastName ||
                        row.professionalDetails.userDetails[0].lastName)
                  }}
                </ng-template>
              </ngx-datatable-column>
              <ngx-datatable-column [resizeable]="false" [flexGrow]="2" name="Fecha">
                <ng-template let-row="row" ngx-datatable-cell-template>
                  {{ moment(row.dateDetails.date).format('DD/MM/YYYY') }}
                </ng-template>
              </ngx-datatable-column>
              <ngx-datatable-column [resizeable]="false" [flexGrow]="1" name="Hora">
                <ng-template let-row="row" ngx-datatable-cell-template>
                  {{ row.dateDetails.start }}
                </ng-template>
              </ngx-datatable-column>
              <ngx-datatable-column [resizeable]="false" [flexGrow]="2" name="Especialidad">
                <ng-template let-row="row" ngx-datatable-cell-template>
                  {{ row.professionalDetails.specialtyDetails[0]?.specialtyName || 'S/R' }}
                </ng-template>
              </ngx-datatable-column>
              <ngx-datatable-column [resizeable]="false" [flexGrow]="2" name="Estado">
                <ng-template let-row="row" ngx-datatable-cell-template>
                  <button type="button" class="btn btn-secondary rounded-pill btn-sm">
                    {{
                      row.administrativeDetails.status === 'reserved'
                        ? 'Reservada'
                        : row.administrativeDetails.status === 'appointed'
                        ? 'Agendada'
                        : row.administrativeDetails.status === 'rescheduled'
                        ? 'Re-Agendada'
                        : row.administrativeDetails.status === 'active'
                        ? 'Activa'
                        : row.administrativeDetails.status === 'waitingInRoom'
                        ? 'En Sala de Espera'
                        : row.administrativeDetails.status === 'waitingInList'
                        ? 'En Lista de Espera'
                        : row.administrativeDetails.status === 'running'
                        ? 'En Curso'
                        : row.administrativeDetails.status === 'pending'
                        ? 'Pendiente'
                        : row.administrativeDetails.status === 'finished'
                        ? 'Finalizada'
                        : row.administrativeDetails.status === 'canceled'
                        ? 'Cancelada'
                        : 'S/R'
                    }}
                  </button>
                </ng-template>
              </ngx-datatable-column>
            </ngx-datatable>
          </div>
        </div>
        <!--/tab-->

        <!-- ANTECEDENTES -->
        <div class="tab-pane fade" id="antecedentesTab" role="tabpanel" aria-labelledby="examenesDocumentos">
          <div class="row">
            <div class="col-12">
              <!-- colappsed-->
              <div class="collapseCustom">
                <a
                  class="p-4"
                  data-toggle="collapse"
                  href="#collapseExample1"
                  role="button"
                  aria-expanded="false"
                  aria-controls="collapseExample"
                >
                  <svg
                    class="mr-2"
                    width="15"
                    height="9"
                    viewBox="0 0 15 9"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      fill-rule="evenodd"
                      clip-rule="evenodd"
                      d="M13.8463 0.18686C13.6309 -0.0417118 13.3006 -0.0417118 13.0852 0.18686L6.99704 6.63257L0.923198 0.171622C0.707814 -0.056949 0.377556 -0.056949 0.162172 0.171622C-0.0532125 0.400193 -0.0532125 0.75067 0.162172 0.979241L6.62371 7.83638C6.8391 8.06496 7.16935 8.06496 7.38474 7.83638L13.8463 0.979241C14.0617 0.765907 14.0617 0.415431 13.8463 0.18686Z"
                      fill="#7D7D7D"
                    />
                  </svg>
                  Enfermedades
                </a>
                <div class="collapse" id="collapseExample1">
                  <ul class="antecedentes" *ngFor="let item of antecedentsRecord.sickness">
                    <li class="pl-5">item</li>
                  </ul>
                </div>
              </div>
              <!--/colappsed-->

              <!-- colappsed-->
              <div class="collapseCustom">
                <a
                  class="p-4"
                  data-toggle="collapse"
                  href="#collapseExample2"
                  role="button"
                  aria-expanded="false"
                  aria-controls="collapseExample"
                >
                  <svg
                    class="mr-2"
                    width="15"
                    height="9"
                    viewBox="0 0 15 9"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      fill-rule="evenodd"
                      clip-rule="evenodd"
                      d="M13.8463 0.18686C13.6309 -0.0417118 13.3006 -0.0417118 13.0852 0.18686L6.99704 6.63257L0.923198 0.171622C0.707814 -0.056949 0.377556 -0.056949 0.162172 0.171622C-0.0532125 0.400193 -0.0532125 0.75067 0.162172 0.979241L6.62371 7.83638C6.8391 8.06496 7.16935 8.06496 7.38474 7.83638L13.8463 0.979241C14.0617 0.765907 14.0617 0.415431 13.8463 0.18686Z"
                      fill="#7D7D7D"
                    />
                  </svg>
                  Antecedentes Familiares
                </a>
                <div class="collapse" id="collapseExample2">
                  <ul class="antecedentes" *ngFor="let item of antecedentsRecord.familiarHistory">
                    <li class="pl-5">item</li>
                  </ul>
                </div>
              </div>
              <!--/colappsed-->

              <!-- colappsed-->
              <div class="collapseCustom">
                <a
                  class="p-4"
                  data-toggle="collapse"
                  href="#collapseExample3"
                  role="button"
                  aria-expanded="false"
                  aria-controls="collapseExample"
                >
                  <svg
                    class="mr-2"
                    width="15"
                    height="9"
                    viewBox="0 0 15 9"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      fill-rule="evenodd"
                      clip-rule="evenodd"
                      d="M13.8463 0.18686C13.6309 -0.0417118 13.3006 -0.0417118 13.0852 0.18686L6.99704 6.63257L0.923198 0.171622C0.707814 -0.056949 0.377556 -0.056949 0.162172 0.171622C-0.0532125 0.400193 -0.0532125 0.75067 0.162172 0.979241L6.62371 7.83638C6.8391 8.06496 7.16935 8.06496 7.38474 7.83638L13.8463 0.979241C14.0617 0.765907 14.0617 0.415431 13.8463 0.18686Z"
                      fill="#7D7D7D"
                    />
                  </svg>
                  Medicamentos
                </a>
                <div class="collapse" id="collapseExample3">
                  <ul class="antecedentes" *ngFor="let item of antecedentsRecord.medicines">
                    <li class="pl-5">item</li>
                  </ul>
                </div>
              </div>
              <!--/colappsed-->

              <!-- colappsed-->
              <div class="collapseCustom">
                <a
                  class="p-4"
                  data-toggle="collapse"
                  href="#collapseExample4"
                  role="button"
                  aria-expanded="false"
                  aria-controls="collapseExample"
                >
                  <svg
                    class="mr-2"
                    width="15"
                    height="9"
                    viewBox="0 0 15 9"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      fill-rule="evenodd"
                      clip-rule="evenodd"
                      d="M13.8463 0.18686C13.6309 -0.0417118 13.3006 -0.0417118 13.0852 0.18686L6.99704 6.63257L0.923198 0.171622C0.707814 -0.056949 0.377556 -0.056949 0.162172 0.171622C-0.0532125 0.400193 -0.0532125 0.75067 0.162172 0.979241L6.62371 7.83638C6.8391 8.06496 7.16935 8.06496 7.38474 7.83638L13.8463 0.979241C14.0617 0.765907 14.0617 0.415431 13.8463 0.18686Z"
                      fill="#7D7D7D"
                    />
                  </svg>
                  Hábitos de Salud
                </a>
                <div class="collapse" id="collapseExample4">
                  <ul class="antecedentes" *ngFor="let item of antecedentsRecord.healthHabits">
                    <li class="pl-5">item</li>
                  </ul>
                </div>
              </div>
              <!--/colappsed-->

              <!-- colappsed-->
              <div class="collapseCustom">
                <a
                  class="p-4"
                  data-toggle="collapse"
                  href="#collapseExample4"
                  role="button"
                  aria-expanded="false"
                  aria-controls="collapseExample"
                >
                  <svg
                    class="mr-2"
                    width="15"
                    height="9"
                    viewBox="0 0 15 9"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      fill-rule="evenodd"
                      clip-rule="evenodd"
                      d="M13.8463 0.18686C13.6309 -0.0417118 13.3006 -0.0417118 13.0852 0.18686L6.99704 6.63257L0.923198 0.171622C0.707814 -0.056949 0.377556 -0.056949 0.162172 0.171622C-0.0532125 0.400193 -0.0532125 0.75067 0.162172 0.979241L6.62371 7.83638C6.8391 8.06496 7.16935 8.06496 7.38474 7.83638L13.8463 0.979241C14.0617 0.765907 14.0617 0.415431 13.8463 0.18686Z"
                      fill="#7D7D7D"
                    />
                  </svg>
                  Ocupacionales
                </a>
                <div class="collapse" id="collapseExample4">
                  <ul class="antecedentes" *ngFor="let item of antecedentsRecord.occupational">
                    <li class="pl-5">item</li>
                  </ul>
                </div>
              </div>
              <!--/colappsed-->

              <!-- colappsed-->
              <div class="collapseCustom">
                <a
                  class="p-4"
                  data-toggle="collapse"
                  href="#collapseExample4"
                  role="button"
                  aria-expanded="false"
                  aria-controls="collapseExample"
                >
                  <svg
                    class="mr-2"
                    width="15"
                    height="9"
                    viewBox="0 0 15 9"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      fill-rule="evenodd"
                      clip-rule="evenodd"
                      d="M13.8463 0.18686C13.6309 -0.0417118 13.3006 -0.0417118 13.0852 0.18686L6.99704 6.63257L0.923198 0.171622C0.707814 -0.056949 0.377556 -0.056949 0.162172 0.171622C-0.0532125 0.400193 -0.0532125 0.75067 0.162172 0.979241L6.62371 7.83638C6.8391 8.06496 7.16935 8.06496 7.38474 7.83638L13.8463 0.979241C14.0617 0.765907 14.0617 0.415431 13.8463 0.18686Z"
                      fill="#7D7D7D"
                    />
                  </svg>
                  Otros
                </a>
                <div class="collapse" id="collapseExample4">
                  <ul class="antecedentes" *ngFor="let item of antecedentsRecord.others">
                    <li class="pl-5">item</li>
                  </ul>
                </div>
              </div>
              <!--/colappsed-->
            </div>
          </div>
        </div>
        <!--/tab-->

        <!-- EXAMENES Y DOCUMENTOS -->
        <div class="tab-pane fade" id="prescripacionesTab" role="tabpanel" aria-labelledby="prescripaciones">
          <div class="row mb-4 align-items-center">
            <div class="col-6">
              <h5 class="mb-0">Examenes y Documentos</h5>
            </div>
            <div class="col-6">
              <button
                class="btn btn-secondary rounded-pill float-right align-middle"
                data-toggle="modal"
                data-target="#uploadFile"
              >
                Subir Documento
              </button>
            </div>
          </div>
          <div class="row">
            <div class="col-12">
              <div class="bg-white p-3 rounded-lg">
                <table class="table mt-1">
                  <thead class="">
                    <tr>
                      <th scope="col">Nombre Documento</th>
                      <th scope="col" class="text-center">Tipo</th>
                      <th scope="col" class="text-center">Fecha de Subida</th>
                      <th scope="col" class="text-center">Acción</th>
                    </tr>
                  </thead>

                  <tbody>
                    <tr id="item.id" *ngFor="let item of examsRecord">
                      <td scope="row">
                        <svg width="21" height="24" viewBox="0 0 21 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                          <path
                            d="M16.6916 2.3669H10.3091C9.95377 1.1359 8.79281 0.19043 7.35625 0.19043C5.91999 0.19043 4.75919 1.1359 4.40336 2.3669H4.24454C2.2743 2.3669 0.744141 3.81621 0.744141 5.63132V20.1404C0.744141 21.9554 2.2743 23.4047 4.24454 23.4047H16.6917C18.662 23.4047 20.1922 21.9554 20.1922 20.1404V5.63132C20.1922 3.81621 18.662 2.3669 16.6916 2.3669ZM18.6362 20.1406C18.6362 21.2661 17.9186 21.9541 16.6917 21.9541H4.24454C3.01764 21.9541 2.29984 21.2659 2.29984 20.1406V5.63132C2.29984 4.50567 3.01764 3.81778 4.24454 3.81778H5.80055V3.0922C5.80055 2.32046 6.51208 1.64131 7.35625 1.64131C8.20042 1.64131 8.91191 2.32046 8.91191 3.0922V3.81778V8.53308C8.91191 9.30497 8.20042 9.98397 7.35625 9.98397C6.51208 9.98397 5.80055 9.30497 5.80055 8.53308V6.67211V5.94666H4.24454V6.67211V8.53323C4.24454 10.114 5.6424 11.435 7.35625 11.435C9.0701 11.435 10.4679 10.114 10.4679 8.53323V3.81778H16.6916C17.9185 3.81778 18.636 4.50581 18.636 5.63132V20.1406H18.6362Z"
                            fill="#A9A9A9"
                          />
                        </svg>
                        <ng-container>
                          {{ item.name }}
                        </ng-container>
                      </td>
                      <td class="text-center">
                        {{ item.type === 'exam' ? 'Examen' : item.type === 'document' ? 'Documento' : 'S/R' }}
                      </td>
                      <td class="text-center">
                        {{ moment(item.uploadDate).format('DD/MM/YYYY') }}
                      </td>
                      <td class="text-center">
                        <a href="{{ downloadUrl }}{{ access_token }}/{{ item.path }}" download>
                          <button type="button" class="btn btn-outline-primary rounded-pill btn-sm mr-3">
                            Ver documento
                          </button>
                        </a>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
        <!--/tab-->

        <!--tab-->
        <div class="tab-pane fade" id="notasTab" role="tabpanel" aria-labelledby="notas">
          <div class="row mb-4 align-items-center">
            <div class="col-6">
              <h5 class="mb-0">Prescripciones</h5>
            </div>
            <!--
            <div class="col-6">
              <button class="btn btn-secondary rounded-pill float-right align-middle">
                Subir documento
              </button>
            </div>
            -->
          </div>
          <div class="row">
            <div class="col-12">
              <div class="bg-white p-3 rounded-lg">
                <table class="table mt-1">
                  <thead class="">
                    <tr>
                      <th scope="col" class="text-center">Tipo de Documento</th>
                      <th scope="col" class="text-center">Fecha emitida</th>
                      <th scope="col" class="text-center">Realizado por</th>
                      <th scope="col" class="text-center">Acción</th>
                    </tr>
                  </thead>
                  <tbody></tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
        <!--/tab-->

        <!--tab-->
        <div class="tab-pane fade" id="timelineTab" role="tabpanel" aria-labelledby="timeline">
          <div class="row">
            <div class="col-12">
              <div class="bg-white p-4 rounded-lg text-center" *ngIf="timelineRecord.length">
                <h5 class="mb-0 text-left">Timeline de Consultas</h5>
                <div class="timeLine">
                  <div class="line bg-white">{{ moment().format('YYYY') }}</div>
                  <div class="line">
                    <button class="btn btn-secondary rounded-lg">
                      {{ moment().format('MMMM') }}
                    </button>
                  </div>
                  <ng-container *ngFor="let item of timelineRecord">
                    <div class="line">
                      <div class="row align-items-center">
                        <div class="col-5 text-right p-0">
                          <h3>{{ moment(item.date).format('DD') }}</h3>
                          {{ item.startAt }} Hrs.
                        </div>
                        <div class="col p-0">
                          <svg
                            width="15"
                            height="15"
                            viewBox="0 0 15 15"
                            fill="none"
                            xmlns="http://www.w3.org/2000/svg"
                          >
                            <circle cx="7.5" cy="7.5" r="7.5" fill="#3BC4CA" />
                          </svg>
                        </div>
                        <div class="col-5 text-left p-0">
                          <button class="btn btn-primary dos rounded-lg">
                            {{
                              item.status === 'reserved'
                                ? 'Reservada'
                                : item.status === 'appointed'
                                ? 'Agendada'
                                : item.status === 'rescheduled'
                                ? 'Re-Agendada'
                                : item.status === 'active'
                                ? 'Activa'
                                : item.status === 'waitingInRoom'
                                ? 'En Sala de Espera'
                                : item.status === 'waitingInList'
                                ? 'En Lista de Espera'
                                : item.status === 'running'
                                ? 'En Curso'
                                : item.status === 'pending'
                                ? 'Pendiente'
                                : item.status === 'finished'
                                ? 'Finalizada'
                                : item.status === 'canceled'
                                ? 'Cancelada'
                                : 'S/R'
                            }}
                          </button>
                        </div>
                      </div>
                    </div>
                    <div class="line">
                      <div class="row align-items-center">
                        <div class="col-5 text-right p-0">
                          <div class="box">
                            <div class="boxCont text-center">
                              <div class="row">
                                <div class="col-3">
                                  <img src="assets/img/doctor-foto.svg" alt="img" />
                                </div>
                                <div class="col-9">
                                  <p class="m-0 text-left">Cita agendada con</p>
                                  <p class="m-0 text-left">
                                    Dr. {{ item.professional.name }} {{ item.professional.lastName }}
                                  </p>
                                  <div class="btn btn-primary btn-sm rounded-pill float-left mt-2">
                                    <ng-container *ngIf="item.isActive; else inactivo">
                                      Activo
                                    </ng-container>
                                    <ng-template #inactivo>Inactivo</ng-template>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="col-2 p-0">
                          <svg
                            width="15"
                            height="15"
                            viewBox="0 0 15 15"
                            fill="none"
                            xmlns="http://www.w3.org/2000/svg"
                          >
                            <circle cx="7.5" cy="7.5" r="7.5" fill="#3BC4CA" />
                          </svg>
                        </div>
                        <!--
                        <div class="col-5 text-left p-0">
                          <h3>24</h3>
                          12:45 Hrs.
                        </div>-->
                      </div>
                    </div>
                  </ng-container>
                </div>

                <!-- Add the timeline -->
                <vertical-timeline style="display: none;">
                  <!-- Add some cards to the timeline. It works with *ngFor too -->
                  <!-- If no value is passed for the date, the current time is used. -->
                  <vertical-timeline-card>
                    <h1>Today</h1>
                  </vertical-timeline-card>

                  <!-- tomorrow = new Date(2017, 9, 20, 14,34); -->
                  <vertical-timeline-card [dateValue]="tomorrow">
                    <h1>Tomorrow</h1>
                  </vertical-timeline-card>

                  <!-- tomorrow = new Date(2017, 9, 20, 14,34); -->
                  <vertical-timeline-card [dateValue]="tomorrow">
                    <h1>Tomorrow</h1>
                  </vertical-timeline-card>
                  <!-- tomorrow = new Date(2017, 9, 20, 14,34); -->
                  <vertical-timeline-card [dateValue]="tomorrow">
                    <h1>Tomorrow</h1>
                  </vertical-timeline-card>
                </vertical-timeline>
              </div>
            </div>
          </div>
        </div>
        <!--/tab-->
      </div>
      <!--/tabs-->
    </div>
  </div>
</div>

<!-- Modal Documentos & Examenes -->
<div class="modal fade" id="uploadFile" tabindex="-1" role="dialog" aria-labelledby="uploadFile" aria-hidden="true">
  <div class="modal-dialog modal-lg modal-dialog-centered">
    <div class="modal-content p-3">
      <div class="modal-header text-center">
        <h5 class="modal-title text-center w-100 mt-1 font-weight-bold" id="exampleModalLabel">Cargar Documento</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <form [formGroup]="fileForm" novalidate="">
          <!-- -->
          <div class="row">
            <div class="form-group col">
              <label for="type">Tipo</label>
              <select class="form-control" name="type" id="type" formControlName="type">
                <option [value]="null">- Seleccionar -</option>
                <option value="exam">Examen</option>
                <option value="document">Documento</option>
              </select>
            </div>
            <div class="form-group col">
              <label for="dateBlock">Documento</label>
              <div class="custom-file">
                <input
                  type="file"
                  class="custom-file-input"
                  (change)="openFile($event)"
                  id="customFile"
                  style="overflow: hidden;"
                />
                <label class="custom-file-label" for="customFile">{{ textInputFile }}</label>
              </div>
            </div>
          </div>
        </form>
      </div>
      <div class="modal-footer text-center justify-content-center">
        <button type="button" class="btn btn-outline-primary rounded-pill" data-dismiss="modal">Cancelar</button>
        <button type="button" class="btn btn-primary rounded-pill" data-dismiss="modal" (click)="uploadFile()">
          Agregar
        </button>
      </div>
    </div>
  </div>
</div>

<ngx-spinner bdColor="rgba(0, 0, 0, 0.5)" type="line-scale" size="default" color="#fff">
  <!-- <p style="color: white" > cargando...</p> -->
</ngx-spinner>
